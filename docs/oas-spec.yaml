openapi: 3.1.0
servers:
  - url: http://{hostname}:{port}/{optionalRoutingPath} 
    description: http
info:
  x-logo:
    url: 'https://raw.githubusercontent.com/neustar/tcs-apis/main/docs/neustar-logo.png'
    altText: STIR/SHAKEN Authentication & Verification Service
  version: 1.0.0
  title: STIR/SHAKEN Authentication & Verification Service
  summary: 
  description: |
    # Overview
    The Authentication Service (AS) and Verification Service (VS) implement the IETF RFC 8224 specification, as well as the SHAKEN framework extensions (ATIS-1000074), for securely computing, transiting and verifying SIP Identity headers for caller identity authentication. 
    Additionally, it provides supplemental features including telephone number ownership validation, subscriber-based policy processing, Caller Name (CNAM), Resource Priority?, Enhanced CNAM (ECNAM)/Rich Call Data? and/or robocall analytics.
  
    ## RESTful API Authentication Service
    Currently, a RESTful API client is required to provide an 'apiKey' query parameter with a pre-provisioned value to access API calls that are restricted. If the 'apiKey' parameter is not specified, the client IP address may be used as the backup authentication mechanism if pre-provisioned.
tags:
- name: Generate SIP Identity Headers
- name: Certificate
- name: Error
- name: Verifies SIP Identity Headers
- name: CNAM
- name: Potential Errors
    

x-tagGroups:
  - name: Authentication Service
    tags:
      - Generate SIP Identity Headers
      - Certificate
      - Error
  - name: Verification Service
    tags:
      - Verifies SIP Identity Headers
      - CNAM
      - ECNAM
      - Potential Errors
paths:
  /authn/identity:
    post:
      tags:
      - Generate SIP Identity Headers
      description: |
        This API uses the following data elements in SIP INVITE messages for SIP Identity header creation, in addition to the required 'apiKey' query parameter for uniquely identifying an API client.
        Three different API entry points are defined for SIP Identity header creation:
          * Accepts requests in JSON format and produces responses in JSON format (J-J)
          * Accepts SIP INVITE messages and produces responses in JSON format (S-J)
          * Accepts SIP INVITE messages and produces responses in SIP format (S-S)
      summary: Identity
      operationId: authn/identity
      parameters:
        - name: apiKey 
          in: query 
          required: true
          schema:
            type: string
          description: The API key uniquely identifying the API client. Cannot be null or empty
        - name: compact
          in: query
          description: Only applicable for SIP INVITE message. Flag for compact SIP Identity header, ignored for 'shaken' PASSporT type. If specified, must be true or false
          required: false
          style: form
          schema:
            type: boolean
        - name: ppt
          in: query
          description: Only applicable for SIP INVITE message. PASSporT type value. If specified, must be 'shaken', 'div', 'rcd' or 'rph'
          required: false
          style: form
          schema:
            type: string
        - name: attest
          in: query
          required: false
          description: Only applicable for SIP INVITE message. "'attest' value specified by ATIS SHAKEN extension.If specified, must be a valid country code"
          schema:
            type: string
        - name: origid
          in: query
          description: Only applicable for SIP INVITE message. "'origid' value specified by ATIS SHAKEN extension. If specified, must be a valid country code"
          required: false
          style: form
          schema:
            type: string
        - name: origcc
          in: query
          description: Only applicable for SIP INVITE message. Default country code for the originator telephone number. If specified, must be a valid country code
          required: false
          style: form
          schema:
            type: string
        - name: destcc
          in: query
          description: Only applicable for SIP INVITE message. Default country code for the destination telephone number. If specified, must be a valid country code
          required: false
          style: form
          schema:
            type: string  
        - name: verstat
          in: query
          description: Only applicable for SIP INVITE message. Verstat value as defined in ETSI TS 124 299, for performing tagging and the SIP Identity header optionally removed
          required: false
          style: form
          schema:
            type: string
        - name: identity
          in: query
          description: Only applicable for SIP INVITE message. Flag for including SIP Identity header when the "verstat" parameter is specified, with the default value as "true". If specified, must be true or false
          required: false
          style: form
          schema:
            type: boolean
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Identity'
          text/plain:
            examples: 
              request: 
                value: |
                  INVITE sip:7035550021@proxy.example.com;transport=UDP SIP/2.0
                  v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK
                  Max-Forwards: 70
                  m: "Alice" <sip:5715550001@proxy.example.com:39089;transport=UDP>
                  t: "Bob" <sip:+17035550002@example.com>
                  f: "Alice" <sip:+15715550001@example.com>;tag=1f4e4f40
                  i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
                  P-Asserted-Identity: Alice <sip:+15715550001@example.com>
                  CSeq: 2 INVITE
                  Allow: INVITE, ACK, CANCEL, BYE, NOTIFY, REFER, MESSAGE, OPTIONS, INFO, SUBSCRIBE
                  c: application/sdp
                  Date: Fri, 14 May 2021 16:57:04 GMT
                  k: replaces, norefersub, extended-refer, timer, X-cisco-serviceuri
                  User-Agent: Z 3.3.25608 r25552
                  Allow-Events: presence, kpml
                  l: 425

                  v=0
                  o=Z 0 0 IN IP4 10.31.32.251
                  s=Z
                  c=IN IP4 10.31.32.251
                  t=0 0
                  m=audio 8000 RTP/AVP 8 0 3 110 98 101
                  a=fingerprint:md5 14:75:8F:1A:FD:44:C0:9B:79:92:07:3C:CF:00:B4:3D
                  a=fingerprint:sha-256 AE:C0:70:64:5F:E5:3E:E3:B3:76:30:59:37:61:34:F0:58:CC:33:72:47:C9:78:AD:D1:78:B6:CC:DF:B0:01:9F
                  a=rtpmap:110 speex/8000
                  a=rtpmap:98 iLBC/8000
                  a=fmtp:98 mode=20
                  a=rtpmap:101 telephone-event/8000
                  a=fmtp:101 0-15
                  a=sendrecv
      x-code-samples:
        - lang: Curl - Min Req Data Element
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey5%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>"
            }'
        - lang: Curl - Compact
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey5%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>",
              "compact" : true
            }
        - lang: Curl - Div Call Extn
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>",
              "passport_type" : "div",
              "diversion" : "\"Bob\" <sip:7035550000@example.com>;reason=away"
            }'
        - lang: Curl - Resource-Priority Auth Extn
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>",
              "passport_type" : "rph",
              "resource_priority" : [ "ets.0, wps.1", "q735.1" ]
            }'
        - lang: Curl - Rich Call Data Extn
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:+17035550001@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>",
              "passport_type" : "rcd"
            }'
        - lang: Curl - ATIS SHAKEN Extn
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>"
            }'
        - lang: Curl - ATIS SHAKEN Extn With All Data
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>",
              "date" : "Fri, 14 May 2021 16:57:05 GMT",
              "pai" : [ "\"Alice\" <tel:+17035550001>", "\"Alice\" <sip:+17035550001@example.com>" ],
              "finger_print" : [ {
                "algorithm" : "SHA-1",
                "digest" : "4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB"
              }, {
                "algorithm" : "SHA-256",
                "digest" : "36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7"
              } ],
              "dest_cc" : "1",
              "orig_cc" : "1",
              "compact" : false,
              "passport_type" : "shaken",
              "attest" : "A",
              "origid" : "3F9C2836-7E40-11E7-BA58-7831C1B8DEBA",
              "request_id" : "X-REQUEST-ID-12345"
            }'
        - lang: Curl - ATIS SHAKEN Extn & RCD
          source: |
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity?apiKey=%3CapiKey12%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"Alice\" <sip:alice@example.com>",
              "to" : "\"Bob\" <sip:5715550000@example.com>",
              "date" : "Fri, 14 May 2021 16:57:05 GMT",
              "pai" : [ "\"Alice\" <tel:+17035550001>", "\"Alice\" <sip:+17035550001@example.com>" ],
              "finger_print" : [ {
                "algorithm" : "SHA-1",
                "digest" : "4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB"
              }, {
                "algorithm" : "SHA-256",
                "digest" : "36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7"
              } ],
              "dest_cc" : "1",
              "orig_cc" : "1",
              "compact" : false,
              "passport_type" : "shaken",
              "call_info" : "<cid:example.com/alice.json>;purpose=jcard;call-reason=Adventure",
              "jcard" : "[\"vcard\",[[\"version\",{},\"text\",\"4.0\"],[\"fn\",{},\"text\",\"Alice Liddell\"],[ \"email\",{},\"text\",\"alice@example.com\"]]]",
              "attest" : "A",
              "origid" : "3F9C2836-7E40-11E7-BA58-7831C1B8DEBA",
              "request_id" : "X-REQUEST-ID-12345"
            }'
        - lang: Curl - SIP Invite/JSON
          source: |
            curl --location --request POST 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity-s_j?apiKey=%3CapiKey1%3E&compact=false&ppt=shaken&origcc=1&destcc=1&attest=A&origid=AAA-BBB-CCCC' \
            --header 'Content-Type: text/plain' \
            --header 'Accept: application/json' \
            --data-raw 'INVITE sip:7035550021@proxy.example.com;transport=UDP SIP/2.0
            v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK
            Max-Forwards: 70
            m: "Alice" <sip:5715550001@proxy.example.com:39089;transport=UDP>
            t: "Bob" <sip:+17035550002@example.com>
            f: "Alice" <sip:+15715550001@example.com>;tag=1f4e4f40
            i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
            P-Asserted-Identity: Alice <sip:+15715550001@example.com>
            CSeq: 2 INVITE
            Allow: INVITE, ACK, CANCEL, BYE, NOTIFY, REFER, MESSAGE, OPTIONS, INFO, SUBSCRIBE
            c: application/sdp
            Date: Fri, 14 May 2021 16:57:04 GMT
            k: replaces, norefersub, extended-refer, timer, X-cisco-serviceuri
            User-Agent: Z 3.3.25608 r25552
            Allow-Events: presence, kpml
            l: 425

            v=0
            o=Z 0 0 IN IP4 10.31.32.251
            s=Z
            c=IN IP4 10.31.32.251
            t=0 0
            m=audio 8000 RTP/AVP 8 0 3 110 98 101
            a=fingerprint:md5 14:75:8F:1A:FD:44:C0:9B:79:92:07:3C:CF:00:B4:3D
            a=fingerprint:sha-256 AE:C0:70:64:5F:E5:3E:E3:B3:76:30:59:37:61:34:F0:58:CC:33:72:47:C9:78:AD:D1:78:B6:CC:DF:B0:01:9F
            a=rtpmap:110 speex/8000
            a=rtpmap:98 iLBC/8000
            a=fmtp:98 mode=20
            a=rtpmap:101 telephone-event/8000
            a=fmtp:101 0-15
            a=sendrecv
            '
        - lang: Curl - SIP Invite/SIP
          source: |
            curl --location --request POST 'http://{hostname}:{port}/{optionalRoutingPath}/authn/identity-s_s?apiKey=%3CapiKey1%3E&compact=false&ppt=shaken&origcc=1&destcc=1&attest=A&origid=AAA-BBB-CCCC&verstat=TN-Validation-Passed&identity=true' \
            --header 'Content-Type: text/plain' \
            --header 'Accept: text/plain' \
            --data-raw 'INVITE sip:7035550021@proxy.example.com;transport=UDP SIP/2.0
            v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK
            Max-Forwards: 70
            m: "Alice" <sip:5715550001@proxy.example.com:39089;transport=UDP>
            t: "Bob" <sip:+17035550002@example.com>
            f: "Alice" <sip:+15715550001@example.com>;tag=1f4e4f40
            i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
            P-Asserted-Identity: Alice <sip:+15715550001@example.com>
            CSeq: 2 INVITE
            Allow: INVITE, ACK, CANCEL, BYE, NOTIFY, REFER, MESSAGE, OPTIONS, INFO, SUBSCRIBE
            c: application/sdp
            Date: Fri, 14 May 2021 16:57:02 GMT
            k: replaces, norefersub, extended-refer, timer, X-cisco-serviceuri
            User-Agent: Z 3.3.25608 r25552
            Allow-Events: presence, kpml
            l: 425

            v=0
            o=Z 0 0 IN IP4 10.31.32.251
            s=Z
            c=IN IP4 10.31.32.251
            t=0 0
            m=audio 8000 RTP/AVP 8 0 3 110 98 101
            a=fingerprint:md5 14:75:8F:1A:FD:44:C0:9B:79:92:07:3C:CF:00:B4:3D
            a=fingerprint:sha-256 AE:C0:70:64:5F:E5:3E:E3:B3:76:30:59:37:61:34:F0:58:CC:33:72:47:C9:78:AD:D1:78:B6:CC:DF:B0:01:9F
            a=rtpmap:110 speex/8000
            a=rtpmap:98 iLBC/8000
            a=fmtp:98 mode=20
            a=rtpmap:101 telephone-event/8000
            a=fmtp:101 0-15
            a=sendrecv
            '
      responses:
        200:
          description: successful operation
          content:
            application/json: 
              schema: 
                $ref: '#/components/schemas/SuccessResponse'
            text/plain:
              examples: 
                response: 
                  value: |
                    HTTP/1.1 200 OK
                    Content-Type: text/plain;charset=UTF-8
                    Content-Length: 1981

                    INVITE sip:7035550021@proxy.example.com;transport=UDP SIP/2.0
                    v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK
                    Max-Forwards: 70
                    m: "Alice" <sip:5715550001@proxy.example.com:39089;transport=UDP>
                    t: "Bob" <sip:+17035550002@example.com>
                    f: "Alice" <sip:+15715550001;verstat=TN-Validation-Passed@example.com>;tag=1f4e4f40
                    y: eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cHM6Ly9jYS1hdXRobi5uZXVzdGFybGFiLmJpei9jY2lkL2F1dGhuL3YyL2NlcnRzLzIwMDAxLjEwMDAxIn0.eyJhdHRlc3QiOiJDIiwiZGVzdCI6eyJ0biI6WyIxNzAzNTU1MDAwMiJdfSwiaWF0IjoxNjIxMDExNDIyLCJta3kiOlt7ImFsZyI6Im1kNSIsImRpZyI6IjE0NzU4RjFBRkQ0NEMwOUI3OTkyMDczQ0NGMDBCNDNEIn0seyJhbGciOiJzaGEtMjU2IiwiZGlnIjoiQUVDMDcwNjQ1RkU1M0VFM0IzNzYzMDU5Mzc2MTM0RjA1OENDMzM3MjQ3Qzk3OEFERDE3OEI2Q0NERkIwMDE5RiJ9XSwib3JpZyI6eyJ0biI6IjE1NzE1NTUwMDAxIn0sIm9yaWdpZCI6ImZkYTYyM2EyLWE4OWQtMTFlOS1hZjgzLTAwNTA1NjlhYmIzNCJ9.pV58sy9KSKUCsM9VT_MzJ5srxib53d5xyoKcGBV9o-SJiAdaTB7t3vuxAh8WX8b6BMc_1P8mAk8WfKD3uSXGaA;info=<https://ca-authn.lab.biz/ccid/authn/v2/certs/20001.10001>;alg=ES256;ppt="shaken"
                    P-Attestation-Indicator: A
                    P-Origination-Id: AAA-BBB-CCCC
                    i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
                    P-Asserted-Identity: Alice <sip:+15715550001;verstat=TN-Validation-Passed@example.com>
                    CSeq: 2 INVITE
                    Allow: INVITE, ACK, CANCEL, BYE, NOTIFY, REFER, MESSAGE, OPTIONS, INFO, SUBSCRIBE
                    c: application/sdp
                    Date: Fri, 14 May 2021 16:57:02 GMT
                    k: replaces, norefersub, extended-refer, timer, X-cisco-serviceuri
                    User-Agent: Z 3.3.25608 r25552
                    Allow-Events: presence, kpml
                    l: 425

                    v=0
                    o=Z 0 0 IN IP4 10.31.32.251
                    s=Z
                    c=IN IP4 10.31.32.251
                    t=0 0
                    m=audio 8000 RTP/AVP 8 0 3 110 98 101
                    a=fingerprint:md5 14:75:8F:1A:FD:44:C0:9B:79:92:07:3C:CF:00:B4:3D
                    a=fingerprint:sha-256 AE:C0:70:64:5F:E5:3E:E3:B3:76:30:59:37:61:34:F0:58:CC:33:72:47:C9:78:AD:D1:78:B6:CC:DF:B0:01:9F
                    a=rtpmap:110 speex/8000
                    a=rtpmap:98 iLBC/8000
                    a=fmtp:98 mode=20
                    a=rtpmap:101 telephone-event/8000
                    a=fmtp:101 0-15
                    a=sendrecv
        400:
          description: Error Response
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/ErrorResponse400'
            text/plain:
              examples:
                response: 
                  value: |
                    HTTP/1.1 400 Forbidden
                    Content-Type: text/plain;charset=UTF-8
                    Content-Length: 197

                    SIP/2.0 437 Credential has expired
                    From: "Alice" <sip:+15714345500@example.com>
                    To: "Bob" <sip:+447035550000@example.com>
                    Reason: SIP;cause=437;text="Credential has expired"
                    Content-Length: 0
        403:
          description: Error Response
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/ErrorResponse403'
            text/plain:
              examples:
                response: 
                  value: | 
                    HTTP/1.1 403 Forbidden
                    Content-Type: text/plain;charset=UTF-8
                    Content-Length: 197

                    SIP/2.0 437 Credential has expired
                    From: "Alice" <sip:+15714345500@example.com>
                    To: "Bob" <sip:+447035550000@example.com>
                    Reason: SIP;cause=437;text="Credential has expired"
                    Content-Length: 0'
  /authn/certs/{id}:
    get:
      tags:
      - Certificate
      description: |
        This API entry point is to return the certificate of a customer that does not provide a public accessible URL for fetching its certificate, so that signatures embedded in the SIP Identity headers generated for the customer can be verified.
      summary: Retrieve Certificate
      operationId: authn/certs/{id}
      parameters:
        - name: id
          in: path
          description: The unique identifier of the certificate to be retrieved
          required: true
          schema:
            type: string
      x-code-samples:
        - lang: Curl
          source: |
            curl --location --request GET 'http://{hostname}:{port}/{optionalRoutingPath}/authn/certs/20001' \
            --header 'Accept: application/json'     
      responses:
        200:
          description: successful operation
          content:
            text/plain:
              examples: 
                response: 
                  value: |
                    HTTP/1.1 200 OK
                    Content-Type: application/json;charset=UTF-8
                    Content-Length: 1066

                    -----BEGIN CERTIFICATE-----
                    MIIC3DCCAcSgAwIBAgIIBVau5WIgYr4wDQYJKoZIhvcNAQELBQAwPTEUMBIGA1UEAwwLQ2FsbEF1
                    dGhuQ0ExGDAWBgNVBAoMD05ldXN0YXIgSU9UIExhYjELMAkGA1UEBhMCVVMwHhcNMjAwNzEwMTg0
                    NTIyWhcNMjIwNzEwMTg0NTIyWjB4MRwwGgYDVQQDDBN0ZXN0Lm5ldXN0YXJsYWIuYml6MRQwEgYD
                    VQQLDAtTbWFydElEIElPVDEVMBMGA1UECgwMTmV1U3RhciBJbmMuMREwDwYDVQQHDAhTdGVybGlu
                    ZzELMAkGA1UECAwCVkExCzAJBgNVBAYTAlVTMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAE+uA9
                    IAiTmofZeO68tU5HcevE99nA/FNmBf5nJXFyotjje+2qj55yZTXw7n0hBbvFGNtuk08XyioVwwBh
                    oIW4uKNwMG4wHQYDVR0OBBYEFN5vq8ArhfTLjiEqr9YFIXennAA/MAwGA1UdEwEB/wQCMAAwHwYD
                    VR0jBBgwFoAUA5OlO5suixTWxM9Yz0bbgzFU0MgwDgYDVR0PAQH/BAQDAgeAMA4GCCsGAQUFBwEa
                    BAIwADANBgkqhkiG9w0BAQsFAAOCAQEAeT9nsp/6EfpdG/Yv+pYu751IF5bGK9fP3XOi89QI4Ode
                    zrExFkUDhYU8hRXg2EhPDKY1t+LwcEEluBba/osgNZpx9VwFAhctFXVr0m9k4fVSzGLbxvc3BpyH
                    7WVkUmBfDSAVK5UtSafo9VgqTm5AAYTEUUnx6Pn+RWFAk7DhGAv/uP1BCAsZBE51dL4sK5IYIPYC
                    PKkugQY+hPk+x+576TFUdjcmBJeq3O/YD98f59DTP2aRVfKdbbWI1DWG6wOwjIUYxzYaprd/U5IC
                    f6O8TLlYMoUMmbBFHBYOSI4/kb4KmM3l8CCTrvvyVtcwF+EX/D3B/2ob87UmRkqduhZDJA==
                    -----END CERTIFICATE-----
        403:
          description: Error Response
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/ErrorResponseCerts400'
  /authn/error:
    get:
      tags:
      - Error
      summary: Retreive All Errors
      operationId: authn/error
      description: |
        Returns the list of all potential errors that could be generated, so that an API consumer can process those errors accordingly.
      x-code-samples:
        - lang: Curl
          source: |
            curl --location --request GET 'http://{hostname}:{port}/{optionalRoutingPath}/authn/error' \
            --header 'Accept: application/json'
      responses:
        200:
          description: successful operation
          content:
            application/json: 
              schema: 
                $ref: '#/components/schemas/ErrorAPISuccessResponse'
  /verify/identity:
    post:
      tags:
      - Verifies SIP Identity Headers
      description: | 
        Currently, a RESTful API client is required to provide an 'apiKey' query parameter with a pre-provisioned value to access API calls that are restricted. If the 'apiKey' parameter is not specified, the client IP address may be used as the backup authentication mechanism if pre-provisioned.

        Three different API entry points are defined for SIP Identity header verification:
          * Accepts requests in JSON format and produces responses in JSON format (J-J)
          * Accepts SIP INVITE messages and produces responses in JSON format (S-J)
          * Accepts SIP INVITE messages and produces responses in SIP format (S-S)
      summary: Identity
      operationId: verify/identity
      parameters:
        - in: query
          name: apiKey
          required: true
          schema:
            type: string
          description: The API key uniquely identifying the API client. Cannot be null or empty
        - name: status
          in: query
          description: Only applicable for SIP INVITE message. The verification status requirement
          required: false
          style: form
          schema:
            type: string
        - name: origcc
          in: query
          description: Only applicable for SIP INVITE message. Default country codes for the originator telephone number
          required: false
          style: form
          schema:
            type: string
        - name: destcc
          in: query
          required: false
          description: Only applicable for SIP INVITE message. Default country code for the destination telephone number
          schema:
            type: string
        - name: cnam
          in: query
          description: Only applicable for SIP INVITE message. Flag for performing CNAM lookup
          required: false
          style: form
          schema:
            type: boolean
        - name: robocall
          in: query
          description: Only applicable for SIP INVITE message. Flag for returning Robocall Call Insight data
          required: false
          style: form
          schema:
            type: boolean
        - name: cnamPrefix
          in: query
          description: Only applicable for SIP INVITE message. Prefix applied to to CNAM data field, indicating if SIP Identity header is verified or not
          required: false
          style: form
          schema:
            type: string
        - name: verstat
          in: query
          description: Only applicable for SIP INVITE message. Verstat value as defined in ETSI TS 124 299, for performing tagging and SIP Identity headers optionally removed
          required: false
          style: form
          schema:
            type: string
        - name: identity
          in: query
          description: Only applicable for SIP INVITE message. Boolean flag for including SIP Identity header when the "verstat" parameter is specified, with the default value as "true"
          required: false
          style: form
          schema:
            type: string
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/VerifyIdentity'
          text/plain:
            examples: 
              request: 
                value: |
                  INVITE sip:+15715550001@proxy.example.com;transport=UDP SIP/2.0
                  v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK-d8754za
                  Max-Forwards: 70
                  m: "alice" <sip:alice@proxy.example.com:39089;transport=UDP>
                  f: "alice" <sip:+15715550000@example.com>;tag=1f4e4f40
                  t: "bob" <sip:+15715550001@example.com>
                  Date: Fri, 16 Apr 2021 02:56:54 GMT
                  i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
                  y: eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJhdHRlc3QiOiJBIiwiZGVzdCI6eyJ0biI6WyIxNTcxNTU1MDAwMSJdfSwiaWF0IjoxNjE4NTQxODE0LCJta3kiOlt7ImFsZyI6IlNIQS0xIiwiZGlnIjoiNEFBREI5QjEzRjgyMTgzQjU0MDIxMkRGM0U1RDQ5NkIxOUU1N0NBQiJ9LHsiYWxnIjoiU0hBLTI1NiIsImRpZyI6IjM2M0JBRTEyOTU5NUY1OTcyREY3RTA4NEZFQ0RGMUJDQUQ3QTcwNjRGN0U3NEY3RUE2MDIwNjBFMzc1NENGRjcifV0sIm9yaWciOnsidG4iOiIxNzAzNTU1MDAwMSJ9LCJvcmlnaWQiOiIxMjM0NTYtQUJDRC05OTk5OTkifQ.yd8hFUIVEbXiZI4NTbLeepUkuEpkKAo_DQZmc2BivqJxGAnbZO2j4iljprTrka-3jLOj6ZSXo-y91879cUYZ-A;info=<http://ca.example.com/test.der>;alg=ES256;ppt="shaken"
                  P-Asserted-Identity: "Alice" <tel:+17035550001>
                  P-Asserted-Identity: "Alice" <sip:+17035550001@example.com>
                  CSeq: 2 INVITE
                  c: application/sdp
                  User-Agent: Z 3.3.25608 r25552
                  k: replaces, norefersub, extended-refer, timer
                  Allow-Events: presence, kpml
                  l: 439

                  v=0
                  o=Z 0 0 IN IP4 10.31.32.251
                  s=Z
                  c=IN IP4 10.31.32.251
                  t=0 0
                  m=audio 8000 RTP/AVP 8 0 3 110 98 101
                  a=fingerprint:SHA-1 4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
                  a=fingerprint:SHA-256 36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7
                  a=rtpmap:110 speex/8000
                  a=rtpmap:98 iLBC/8000
                  a=fmtp:98 mode=20
                  a=rtpmap:101 telephone-event/8000
                  a=fmtp:101 0-15
                  a=sendrecv
            required: true
        required: true
      x-code-samples:
        - lang: Curl - Min Req Data Element
          source: | 
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"alice\" <sip:+15715550000@example.com>",
              "to" : "\"bob\" <sip:+15715550001@example.com>",
              "identity" : [ "eyJhbGciOiJFUzI1NiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJkZXN0Ijp7InRuIjpbIjE1NzE1NTUwMDAxIl19LCJpYXQiOjE2MTg1NDE4MTYsIm9yaWciOnsidG4iOiIxNTcxNTU1MDAwMCJ9fQ.amEa2CXEarp4H6S2EqUh-fj-8oCKQHpLXI6xL--KgvP_tI2bdfjXDWlABGpxLz2qwkCKBe0tCIFvMHLgeVsOTw;info=<http://ca.example.com/test.der>;alg=ES256" ]
            }'
        - lang: Curl - Min Input Data Set for Div Call
          source: | 
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"alice\" <sip:+15715550000@example.com>",
              "to" : "\"bob\" <sip:bob@example.com>",
              "identity" : [ "..5w09tGHEUufQCE5Owdge96LC4WzB3Tzoa5nXMc1OT5-tKBImFMT2zg_sz_HuSFhA7ZoEnO-vO9Nx_nK6PJK7nA;info=<http://ca.example.com/test.der>;alg=ES256", "..E78w84XxXOZP6hmMbwf-LhvwX7W6rylaNA5KXm63NdlhQesWpI_d3SZAJ6S9jNv7orQcu1TLrjiaf25n-zz46g;info=<http://ca.example.com/test.der>;alg=ES256;ppt=\"div\"" ],
              "diversion" : [ "\"bob\" <sip:+15715550001@example.com>;reason=away" ]
            }'
        - lang: Curl - Min Input Data Set for Resource Priority Authn
          source: | 
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"alice\" <sip:+15715550000@example.com>",
              "to" : "\"bob\" <sip:+15715550001@example.com>",
              "identity" : [ "eyJhbGciOiJFUzI1NiIsInBwdCI6InJwaCIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJkZXN0Ijp7InRuIjpbIjE1NzE1NTUwMDAxIl19LCJpYXQiOjE2MTg1NDE4MTgsIm9yaWciOnsidG4iOiIxNTcxNTU1MDAwMCJ9LCJycGgiOnsiYXV0aCI6WyJldHMuMCIsIndwcy4yIl19fQ.6OOULynEPYO_Hk8unNv_hiM1TRoJeQsMacskpoCpAMITqb6DWYkyv3wmtjmf0RFQvABmFKNpSJHDRu5rziI3yA;info=<http://ca.example.com/test.der>;alg=ES256;ppt=\"rph\"" ],
              "resource_priority" : [ "ets.0, wps.2", "q735.1" ]
            }'
        - lang: Curl - Request Id, Verstat and Identity Info
          source: | 
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"alice\" <sip:+17035550001@example.com>",
              "to" : "\"bob\" <sip:+15715550001@example.com>",
              "identity" : [ "eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJhdHRlc3QiOiJBIiwiZGVzdCI6eyJ0biI6WyIxNTcxNTU1MDAwMSJdfSwiaWF0IjoxNjE4NTQxODE1LCJta3kiOlt7ImFsZyI6IlNIQS0xIiwiZGlnIjoiNEFBREI5QjEzRjgyMTgzQjU0MDIxMkRGM0U1RDQ5NkIxOUU1N0NBQiJ9LHsiYWxnIjoiU0hBLTI1NiIsImRpZyI6IjM2M0JBRTEyOTU5NUY1OTcyREY3RTA4NEZFQ0RGMUJDQUQ3QTcwNjRGN0U3NEY3RUE2MDIwNjBFMzc1NENGRjcifV0sIm9yaWciOnsidG4iOiIxNzAzNTU1MDAwMSJ9LCJvcmlnaWQiOiIxMjM0NTYtQUJDRC05OTk5OTkifQ.-KSrycbqfsY41itu_ReMqmgGmJm0Q7Wa_EWOQDpAWWRrRiAPnwNsTltrHV7YQhxwTcVe1PxMs7Swdx01wO_HJQ;info=<http://ca.example.com/test.der>;alg=ES256;ppt=\"shaken\"" ],
              "status" : "all",
              "verstat" : true,
              "identity_info" : true,
              "request_id" : "X-REQUEST-ID-12345"
            }'
        - lang: Curl - Full Input Data Set
          source: | 
            curl 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E' -i -X POST \
                -H 'Content-Type: application/json' \
                -H 'Accept: application/json' \
                -d '{
              "from" : "\"alice\" <sip:+15715550000@example.com>",
              "to" : "\"bob\" <sip:+15715550001@example.com>",
              "date" : "Fri, 16 Apr 2021 02:56:51 GMT",
              "pai" : [ "\"Alice\" <tel:+17035550001>", "\"Alice\" <sip:+17035550001@example.com>" ],
              "finger_print" : [ {
                "algorithm" : "SHA-1",
                "digest" : "4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB"
              }, {
                "algorithm" : "SHA-256",
                "digest" : "36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7"
              } ],
              "dest_cc" : "1",
              "identity" : [ "eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJhdHRlc3QiOiJBIiwiZGVzdCI6eyJ0biI6WyIxNTcxNTU1MDAwMSJdfSwiaWF0IjoxNjE4NTQxODExLCJta3kiOlt7ImFsZyI6IlNIQS0xIiwiZGlnIjoiNEFBREI5QjEzRjgyMTgzQjU0MDIxMkRGM0U1RDQ5NkIxOUU1N0NBQiJ9LHsiYWxnIjoiU0hBLTI1NiIsImRpZyI6IjM2M0JBRTEyOTU5NUY1OTcyREY3RTA4NEZFQ0RGMUJDQUQ3QTcwNjRGN0U3NEY3RUE2MDIwNjBFMzc1NENGRjcifV0sIm9yaWciOnsidG4iOiIxNzAzNTU1MDAwMSJ9LCJvcmlnaWQiOiIxMjM0NTYtQUJDRC05OTk5OTkifQ.DPla25UwiUGoNb69aD3ZT1SrcYjdLRu51WP1aFAOXS7DS-FW4YeA2KiuKQWZGceivnZKX1WU5ba_IWObKcZDPw;info=<http://ca.example.com/test.der>;alg=ES256;ppt=\"shaken\"" ],
              "orig_cc" : [ "1", "44" ],
              "status" : "all",
              "cnam" : true,
              "ecnam" : true,
              "robocall" : true,
              "verstat" : true,
              "identity_info" : true,
              "request_id" : "X-REQUEST-ID-12345"
            }'
        - lang: Curl - SIP Invite/JSON
          source: |
            curl --location --request POST 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E&status=all&origcc=1,44&destcc=1&cnam=true&ecnam=true&robocall=true' \
            --header 'Content-Type: text/plain' \
            --header 'Accept: application/json' \
            --data-raw 'INVITE sip:+15715550001@proxy.example.com;transport=UDP SIP/2.0
            v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK-d8754za
            Max-Forwards: 70
            m: "alice" <sip:alice@proxy.example.com:39089;transport=UDP>
            f: "alice" <sip:+15715550000@example.com>;tag=1f4e4f40
            t: "bob" <sip:+15715550001@example.com>
            Date: Fri, 16 Apr 2021 02:56:54 GMT
            i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
            y: eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJhdHRlc3QiOiJBIiwiZGVzdCI6eyJ0biI6WyIxNTcxNTU1MDAwMSJdfSwiaWF0IjoxNjE4NTQxODE0LCJta3kiOlt7ImFsZyI6IlNIQS0xIiwiZGlnIjoiNEFBREI5QjEzRjgyMTgzQjU0MDIxMkRGM0U1RDQ5NkIxOUU1N0NBQiJ9LHsiYWxnIjoiU0hBLTI1NiIsImRpZyI6IjM2M0JBRTEyOTU5NUY1OTcyREY3RTA4NEZFQ0RGMUJDQUQ3QTcwNjRGN0U3NEY3RUE2MDIwNjBFMzc1NENGRjcifV0sIm9yaWciOnsidG4iOiIxNzAzNTU1MDAwMSJ9LCJvcmlnaWQiOiIxMjM0NTYtQUJDRC05OTk5OTkifQ.yd8hFUIVEbXiZI4NTbLeepUkuEpkKAo_DQZmc2BivqJxGAnbZO2j4iljprTrka-3jLOj6ZSXo-y91879cUYZ-A;info=<http://ca.example.com/test.der>;alg=ES256;ppt="shaken"
            P-Asserted-Identity: "Alice" <tel:+17035550001>
            P-Asserted-Identity: "Alice" <sip:+17035550001@example.com>
            CSeq: 2 INVITE
            c: application/sdp
            User-Agent: Z 3.3.25608 r25552
            k: replaces, norefersub, extended-refer, timer
            Allow-Events: presence, kpml
            l: 439
            
            v=0
            o=Z 0 0 IN IP4 10.31.32.251
            s=Z
            c=IN IP4 10.31.32.251
            t=0 0
            m=audio 8000 RTP/AVP 8 0 3 110 98 101
            a=fingerprint:SHA-1 4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
            a=fingerprint:SHA-256 36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7
            a=rtpmap:110 speex/8000
            a=rtpmap:98 iLBC/8000
            a=fmtp:98 mode=20
            a=rtpmap:101 telephone-event/8000
            a=fmtp:101 0-15
            a=sendrecv
            '
        - lang: Curl - SIP Invite/SIP
          source: |
            curl --location --request POST 'http://{hostname}:{port}/{optionalRoutingPath}/verify/identity?apiKey=%3CapiKey1%3E&status=all&origcc=1,44&destcc=1&cnam=true&ecnam=true&robocall=true&cnamPrefix=%E2%9C%94,%E2%9C%98&verstat=TN-Validation-Passed&identity=true' \
            --header 'Content-Type: text/plain' \
            --header 'Accept: text/plain' \
            --data-raw 'INVITE sip:+15715550001@proxy.example.com;transport=UDP SIP/2.0
            v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK-d8754za
            Max-Forwards: 70
            m: "alice" <sip:alice@proxy.example.com:39089;transport=UDP>
            f: "alice" <sip:+15715550000@example.com>;tag=1f4e4f40
            t: "bob" <sip:+15715550001@example.com>
            Date: Fri, 16 Apr 2021 02:56:52 GMT
            i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
            y: eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJhdHRlc3QiOiJBIiwiZGVzdCI6eyJ0biI6WyIxNTcxNTU1MDAwMSJdfSwiaWF0IjoxNjE4NTQxODEyLCJta3kiOlt7ImFsZyI6IlNIQS0xIiwiZGlnIjoiNEFBREI5QjEzRjgyMTgzQjU0MDIxMkRGM0U1RDQ5NkIxOUU1N0NBQiJ9LHsiYWxnIjoiU0hBLTI1NiIsImRpZyI6IjM2M0JBRTEyOTU5NUY1OTcyREY3RTA4NEZFQ0RGMUJDQUQ3QTcwNjRGN0U3NEY3RUE2MDIwNjBFMzc1NENGRjcifV0sIm9yaWciOnsidG4iOiIxNzAzNTU1MDAwMSJ9LCJvcmlnaWQiOiIxMjM0NTYtQUJDRC05OTk5OTkifQ.HJzTVP6kSWIGrrAW23GJX920-WXqV7lSsLr4WzUlIJWdCVaLFNBVfze3PJ0Bq9qQnvhIZztjrdUR_hAUseaA8g;info=<http://ca.example.com/test.der>;alg=ES256;ppt="shaken"
            P-Asserted-Identity: "Alice" <tel:+17035550001>
            P-Asserted-Identity: "Alice" <sip:+17035550001@example.com>
            CSeq: 2 INVITE
            c: application/sdp
            User-Agent: Z 3.3.25608 r25552
            k: replaces, norefersub, extended-refer, timer
            Allow-Events: presence, kpml
            l: 439
            
            v=0
            o=Z 0 0 IN IP4 10.31.32.251
            s=Z
            c=IN IP4 10.31.32.251
            t=0 0
            m=audio 8000 RTP/AVP 8 0 3 110 98 101
            a=fingerprint:SHA-1 4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
            a=fingerprint:SHA-256 36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7
            a=rtpmap:110 speex/8000
            a=rtpmap:98 iLBC/8000
            a=fmtp:98 mode=20
            a=rtpmap:101 telephone-event/8000
            a=fmtp:101 0-15
            a=sendrecv
            '
      responses:
        200:
          description: |
            successful operation
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/VerifyResponse'
            text/plain:
              examples: 
                response: 
                  value: | 
                    HTTP/1.1 200 OK
                    Content-Type: text/plain;charset=UTF-8
                    Content-Length: 2582

                    INVITE sip:+15715550001@proxy.example.com;transport=UDP SIP/2.0
                    v: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK-d8754za
                    Max-Forwards: 70
                    m: "alice" <sip:alice@proxy.example.com:39089;transport=UDP>
                    f: "✔Alice In Wonderland" <sip:+15715550000;verstat=TN-Validation-Passed@example.com>;tag=1f4e4f40
                    t: "bob" <sip:+15715550001@example.com>
                    Date: Fri, 16 Apr 2021 02:56:52 GMT
                    i: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
                    P-Attestation-Indicator: A
                    P-Origination-Id: 123456-ABCD-999999
                    y: eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJhdHRlc3QiOiJBIiwiZGVzdCI6eyJ0biI6WyIxNTcxNTU1MDAwMSJdfSwiaWF0IjoxNjE4NTQxODEyLCJta3kiOlt7ImFsZyI6IlNIQS0xIiwiZGlnIjoiNEFBREI5QjEzRjgyMTgzQjU0MDIxMkRGM0U1RDQ5NkIxOUU1N0NBQiJ9LHsiYWxnIjoiU0hBLTI1NiIsImRpZyI6IjM2M0JBRTEyOTU5NUY1OTcyREY3RTA4NEZFQ0RGMUJDQUQ3QTcwNjRGN0U3NEY3RUE2MDIwNjBFMzc1NENGRjcifV0sIm9yaWciOnsidG4iOiIxNzAzNTU1MDAwMSJ9LCJvcmlnaWQiOiIxMjM0NTYtQUJDRC05OTk5OTkifQ.HJzTVP6kSWIGrrAW23GJX920-WXqV7lSsLr4WzUlIJWdCVaLFNBVfze3PJ0Bq9qQnvhIZztjrdUR_hAUseaA8g;info=<http://ca.example.com/test.der>;alg=ES256;ppt="shaken"
                    P-Asserted-Identity: "✔Alice In Wonderland,Walt Disney World Resort,Orlando,FL 32830" <sip:+15715550000@example.com;tmpl=none;bn=Disney%20World;dept=Theme%20Park;lt=Wireline;st=Business;bt=Entertainment;ba=Walt%20Disney%20World%20Resort;cs=Orlando, FL;city=Orlando;state=FL;ct=US;zip=32830;wb=http://movies.disney.com/alice-in-wonderland-1951;lg=https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png;tg=#AliceInWonderLand;sm=%7B%22Facebook%22%3A%22https%3A%2F%2Fwww.facebook.com%2FDisneyAliceInWonderland%22%2C%22Twitter%22%3A%22https%3A%2F%2Ftwitter.com%2FDisney%22%7D;nm=Alice;fn=Alice;ln=Liddell;jt=Adventurer;hs=https://encrypted-tbn0.gstatic.com/images?q%3dtbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I;cp=Customer Support;email=alice@disney.com;verstat=TN-Validation-Passed>
                    CSeq: 2 INVITE
                    c: application/sdp
                    User-Agent: Z 3.3.25608 r25552
                    k: replaces, norefersub, extended-refer, timer
                    Allow-Events: presence, kpml
                    l: 439

                    v=0
                    o=Z 0 0 IN IP4 10.31.32.251
                    s=Z
                    c=IN IP4 10.31.32.251
                    t=0 0
                    m=audio 8000 RTP/AVP 8 0 3 110 98 101
                    a=fingerprint:SHA-1 4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
                    a=fingerprint:SHA-256 36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7
                    a=rtpmap:110 speex/8000
                    a=rtpmap:98 iLBC/8000
                    a=fmtp:98 mode=20
                    a=rtpmap:101 telephone-event/8000
                    a=fmtp:101 0-15
                    a=sendrecv
        400:
          description: Error Response
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/VerifyErrorResponse400'
            text/plain:
              examples: 
                response: 
                  value: |
                    HTTP/1.1 400 Bad Request
                    Content-Type: text/plain;charset=UTF-8
                    Content-Length: 505

                    SIP/2.0 438 Identity signature failed to be verified
                    Via: SIP/2.0/UDP proxy.example.com:39089;branch=z9hG4bK-d8754za
                    Contact: "alice" <sip:alice@proxy.example.com:39089;transport=UDP>
                    From: "alice" <sip:+15715550000@example.com>;tag=1f4e4f40
                    To: "bob" <sip:+15715550001@example.com>
                    Call-ID: YzRlZDFlYzYyM2IwOTdlMzk0MDA3MTRmZmY3OGIzODM.
                    CSeq: 2 INVITE
                    Supported: replaces, norefersub, extended-refer, timer
                    Reason: SIP;cause=438;text="Identity signature failed to be verified"
                    Content-Length: 0
  /verify/cnam/tn/{digits}:
    get:
      tags:
      - CNAM
      summary: Perform CNAM queries
      operationId: verify/cnam/tn/{digits}
      description: |
        For a successful CNAM lookup, a response in JSON format will be returned with the "cnam" attribute; otherwise, the "cnam_error" attribute will be returned if there are any errors encountered in the CNAM lookup.
      parameters:
        - in: query
          name: apiKey
          required: true
          schema:
            type: string
          description: The API key uniquely identifying the API client. Cannot be null or empty
        - name: digits
          in: path
          description: The numeric telephone number
          required: true
          schema:
            type: string
      x-code-samples:
        - lang: Curl
          source: |
            curl --location --request GET 'http://{hostname}:{port}/{optionalRoutingPath}/verify/cnam/tn/15715550000?apiKey=%3CapiKey1%3E' \
            --header 'Accept: application/json'
      responses:
        200:
          description: successful operation
          content:
            application/json: 
              schema: 
                type: object
                properties:
                  cnam:
                    type: string
                    description: CNAM data
                    example: Alice In Wonderland
        403:
          description: Error Response
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/CNAM-Error'
  /verify/cnam:
    post:
      tags:
      - CNAM
      summary: Perform CNAM queries
      operationId: verify/cnam
      description: |
        For a successful CNAM lookup, a response in JSON format will be returned with the "cnam" attribute; otherwise, the "cnam_error" attribute will be returned if there are any errors encountered in the CNAM lookup.
      parameters:
        - in: query
          name: apiKey
          required: true
          schema:
            type: string
          description: The API key uniquely identifying the API client. Cannot be null or empty
      requestBody:
        description: ''
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CNAM-Input'
        required: true
      x-code-samples:
        - lang: Curl
          source: |
            curl --location --request GET 'http://{hostname}:{port}/{optionalRoutingPath}/verify/cnam/tn/15715550000?apiKey=%3CapiKey1%3E' \
            --header 'Accept: application/json'
      responses:
        200:
          description: successful operation
          content:
            application/json: 
              schema: 
                type: object
                properties:
                  cnam:
                    type: string
                    description: CNAM data
                    example: Alice In Wonderland
        403:
          description: Error Response
          content: 
            application/json: 
              schema: 
                $ref: '#/components/schemas/CNAM-Error'
  /verify/error:
    get:
      tags:
      - Potential Errors
      summary: Retreive All Errors
      operationId: verify/errors
      description: |
        This API entry point is to return the list of all potential errors that could be generated, so that an API consumer can process those errors accordingly.
      x-code-samples:
        - lang: Curl
          source: |
            curl --location --request GET 'http://{hostname}:{port}/{optionalRoutingPath}/verify/error' \
            --header 'Accept: application/json'
      responses:
        200:
          description: successful operation
          content:
            application/json: 
              schema: 
                $ref: '#/components/schemas/ErrorAPISuccessResponse'
components:
  schemas:
    Identity:
      required:
      - from
      - to
      type: object
      properties:
        from:
          type: string
          example: Alice <sip:alice@example.com>
          description: \"From\" header value from SIP INVITE message
        to:
          type: string
          example: Bob <sip:5715550000@example.com>
          description: \"To\" header value from SIP INVITE message
        date:
          type: string
          example: Fri, 11 Aug 2017 04:17:14 GMT
          description: SIP Date header
        compact: 
          type: boolean
          description: Flag for generating compact SIP Identity header, ignored for 'shaken' PASSporT type. If specified, must be true or false
        passport_type: 
          type: string
          example: div
          description: PASSporT type value. If specified, must be 'shaken', 'div', 'rph' or 'rcd'
        diversion: 
          type: string
          example: Bob <sip:7035550000@example.com>;reason=away
          description: First 'Diversion' header value from SIP INVITE message. If specified, must not be empty or blank
        resource_priority: 
          type: array
          description: List of 'Resource-Priority' header values from SIP INVITE message. If specified, must be one as specified in RFC4412 Section 3.1
          items: 
            type: string
            example: [ "ets.0, wps.1", "q735.1" ]
        call_info:
          type: string
          description: The 'Call-Info' header value for extracting jcard_uri and call_reason values used in constructing RCD PASSporT. If specified, must be a valid SIP 'Call-Info' header value
          example: <http://example.com/alice.json>;purpose=jcard;call-reason=Adventure
        call_reason:
          type: string
          description: The call reason to be used for constructing RCD PASSporT
          example: Travel
        caller_name: 
          type: string
          description: The CNAM to be used for constructing RCD PASSporT
          example: Alice Liddell
        jcard: 
          type: string
          description: The JSON string representing a valid JCARD
          example: "[\"vcard\",[[\"version\",{},\"text\",\"4.0\"],[\"fn\",{},\"text\",\"Alice Liddell\"],[ \"email\",{},\"text\",\"alice@example.com\"]]]"
        jcard_uri:
          type: string
          example: cid:123456
          description: The URI identifying the location of the JCARD. If specified, must be valid URI
        rcd_integrity:
          type: boolean
          example: true
          description: The flag for generating RCD PASSporT integrity hash. If specified, must be either true or false, with default as true
        rcd_hash_algorithm:
          type: string
          example: sha384
          description: The algorithm for generating RCD PASSporT integrity hash. If specified, must be one of 'sha256', 'sha384' or 'sha512', with default as 'sha256'
        rcd_signature: 
          type: string
          example: sha512-oODCNbWggTlXfGx1wMpFhdA6Kt2vLjNsRnwks+ffezUUTubjGLSUhqLkSjsE3SZKPWG+gywfYmKjcPtz6uMyog==
          description: The pre-calculated signature of RCD PASSporT integrity hash. If specified, must be not empty or blank and must be a base64 string prefixed with the hash algorithm name
        pai:
          type: array
          description: List of 'P-Asserted-Identity' header values from SIP INVITE message. If specified, must be one as specified in RFC3325 Section 9.1
          items: 
            type: string
            example: ['Alice <tel:+17035550001>', 'Alice <sip:+17035550001@example.com>']
        finger_print:
          type: array
          description: List of SDP 'a=fingerprint' attribute values from SIP INVITE message. If specified, must be one as specified in RFC3325 Section 9.1
          items: 
            type: object 
            properties: 
              algorithm:
                type: string
                description: Algorithm name of a SDP 'a=fingerprint' attribute from SIP INVITE message. Cannot be null or empty
              digest: 
                type: string
                description: Digest value of a SDP 'a=fingerprint' attribute from SIP INVITE message. Cannot be null or empty
          example:
            - algorithm: SHA-1
              digest: 4A:AD:B9:B1:3F:82:18:3B:54:02:12:DF:3E:5D:49:6B:19:E5:7C:AB
            - algorithm: SHA-256
              digest: 36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7
        orig_cc:
          type: string
          description: Default country code for the origination telephone number. If specified, must be a valid country code
          example: "1"
        dest_cc:
          type: string
          description: Default country code for the destination telephone number. If specified, must be a valid country code
          example: "1"
        attest: 
          type: string
          description: attest value defined by ATIS SHAKEN extension. If specified, must not be empty or blank. 
          example: A
        origid: 
          type: string
          description: Client supplied request identifier for tracking purpose. If not null, it will be returned back in the response object
          example: 3F9C2836-7E40-11E7-BA58-7831C1B8DEBA
        request_id:
          type: string
          description: 'Client supplied request identifier for tracking purpose. If not null, it will be returned back in the response object'
          example: X-REQUEST-ID-12345
    SuccessResponse:
      required:
      - identity
      type: object
      properties:
        identity:
          type: string
          example: eyJhbGciOiJFUzI1NiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLWNtcy5uZXVzdGFybGFiLmJpejo4MDAwL2NlcnRzL2QwY2JjM2Y2YmFjMGQwYTFmNzlmNzg2YWE1NTQzYjAxIn0.eyJkZXN0Ijp7InRuIjpbIjE1NzE1NTUwMDAwIl19LCJpYXQiOjE2MjEwMTE0MjYsIm9yaWciOnsidXJpIjoic2lwOmFsaWNlQGV4YW1wbGUuY29tIn19.RC99mmfDvD2BuMZnKwUBGBeG5NyjoQLign1Rjya6rJYv7LShPyDToL7hac1PnurB2kK3ojYVKg0TDMsIOj05RQ;info=<http://ca-cms.orglab.biz:8000/certs/d0cbc3f6bac0d0a1f79f786aa5543b01>;alg=ES256
          description: The SIP Identity header created
        date:
          type: string
          example: Fri, 14 May 2021 16:57:06 GMT
          description: The 'Date' value used for SIP Identity header creation, if not specified in the request
    SuccessResponseProxy:
      required:
      - status
      - header
      type: object
      properties:
        status:
          type: string
          example: ok
          description: |
            The status of Verification Service operation for SIP proxy. A successful response in JSON format includes the "status" attribute with a value of "ok". It also contains an optional "next_hop" attribute for indicating the next hop for routing the SIP messages, and an optional "policy" attribute with an opaque string to be consumed by the SIP proxy for manipulating SIP headers and mapping error conditions. Finally, it contains an optional "header" attribute, containing a list of SIP headers to be added to or removed from the SIP INVITE message.
        next_hop:
          type: string
          example: 'udp:192.168.1.1:5060'
          description: The URI of next hop
        policy: 
          type: string
          example: "{\"stateful\":false,\"via\":false,\"max_forwards\":false,\"route\":false,\"record_route\":false,\"error_action\":[{\"error\":\"default\",\"action\":\"passthru\"}]}"
          description: The policy for processing the SIP message
        header: 
          type: array
          description: A list of SIP headers or RequestLine to be added into or removed from SIP INVITE message
          items:
            type: object
            properties:
              operation:
                type: string
                description: Either 'add' or 'remove'
                example: add
              name:
                type: string
                description: The name of the SIP header or RequestLine to be added or removed
                example: Identity
              value:
                type: string
                description: The value of the SIP header or RequestLine to be added or removed
                example: 'eyJhbGciOiJFUzI1NiIsInBwdCI6InNoYWtlbiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cHM6Ly9jYS1hdXRobi5uZXVzdGFybGFiLmJpei9jY2lkL2F1dGhuL3YyL2NlcnRzLzIwMDAxLjEwMDAxIn0.eyJhdHRlc3QiOiJDIiwiZGVzdCI6eyJ0biI6WyIxNzAzNTU1MDAwMiJdfSwiaWF0IjoxNjIxMDExNDI1LCJta3kiOlt7ImFsZyI6Im1kNSIsImRpZyI6IjE0NzU4RjFBRkQ0NEMwOUI3OTkyMDczQ0NGMDBCNDNEIn0seyJhbGciOiJzaGEtMjU2IiwiZGlnIjoiQUVDMDcwNjQ1RkU1M0VFM0IzNzYzMDU5Mzc2MTM0RjA1OENDMzM3MjQ3Qzk3OEFERDE3OEI2Q0NERkIwMDE5RiJ9XSwib3JpZyI6eyJ0biI6IjE1NzE1NTUwMDAxIn0sIm9yaWdpZCI6ImZkYTYyM2EyLWE4OWQtMTFlOS1hZjgzLTAwNTA1NjlhYmIzNCJ9.ulLtqgsrg4GQiDC6kcNA94rRI_oXhBbClLYMkejJlPKUK2N0WW5Jkawbo88nyprUVStu1WWQQGR8Ha6Qnm41pg;info=<http://{hostname}:{port}/{optionalRoutingPath}/authn/certs/20001.10001>;alg=ES256;ppt=\"shaken\""'
    ErrorResponse400:
      required:
      - error_id
      - http_status_code
      - sip_code
      - reason
      - timestamp
      type: object
      properties:
        error_id:
          type: string
          example: UriSchemeInvalid
          description: The unique error identifier
        http_status_code:
          type: integer
          example: 400
          description: The HTTP response status code
        sip_code: 
          type: string
          example: "416"
          description: The SIP response code associated with the error
        reason:
          type: string
          example: URI scheme is invalid
          description: The detailed error text
        timestamp:
          type: string
          example: Fri, 14 May 2021 16:57:02 GMT
          description: The timestamp when the error is generated
        developer_message:
          type: string
          example: Supported URI schemes are tel, sip, and sips
          description: The additional developer message, if any
        attributes:
          type: object
          description: The name/value pair attribute map associated with the error
          properties: 
            uri: 
              type: string
              description: The attribute name of 'uri' in the name/value pair
              example: Alice <mail:alice@example.com>
    ErrorResponse403:
      required:
      - error_id
      - http_status_code
      - sip_code
      - reason
      - timestamp
      type: object
      properties:
        error_id:
          type: string
          example: CredentialExpired
          description: The unique error identifier
        http_status_code:
          type: integer
          example: 403
          description: The HTTP response status code
        sip_code: 
          type: string
          example: "437"
          description: The SIP response code associated with the error
        reason:
          type: string
          example: Credential has expired
          description: The detailed error text
        timestamp:
          type: string
          example: Fri, 14 May 2021 16:57:02 GMT
          description: The timestamp when the error is generated
        developer_message:
          type: string
          example: Certificate has expired at current date/time
          description: The additional developer message, if any
        attributes:
          type: object
          description: The name/value pair attribute map associated with the error
          properties: 
            alias: 
              type: string
              description: "The attribute name of 'alias' in the name/value pair"
              example: test2
    ErrorResponseProxy403:
      required:
      - error_id
      - http_status_code
      - sip_code
      - reason
      - timestamp
      type: object
      properties:
        status:
          type: string
          example: error
          description: A failure response in JSON format includes the "status" attribute with a value of "error", and an "error" attribute, containing a list of error conditions that result in the failure.
        error: 
          description: A list of errors encountered in STIR authentication operation for SIP proxy
          type: array
          items:
            type: object
            properties: 
              error_id:
                type: string
                description: The unique error identifier
                example: RequestStaleDate
              http_status_code:
                type: number
                example: 403
                description: The HTTP response status code
              sip_code: 
                type: number
                example: 403
                description: The SIP response code associated with the error
              reason:
                type: string
                example: Stale date value
                description: The detailed error text
              timestamp:
                type: string
                example: Fri, 14 May 2021 16:57:02 GMT
                description: The timestamp when the error is generated
              attributes: 
                type: object
                description: The name/value pair .attribute map associated with the error
                properties: 
                  allowed_clock_skew:
                    type: number
                    description: The attribute name of 'allowed_clock_skew' in the name/value pair
                    example: 60
                  difference: 
                    type: number
                    description: The attribute name of 'difference' in the name/value pair
                    example: 145685787
        next_hop:
          type: string
          example: udp:192.168.1.1:5060
          description: The additional developer message, if any
        policy:
          type: string
          example: "{\"stateful\":false,\"via\":false,\"max_forwards\":false,\"route\":false,\"record_route\":false,\"error_action\":[{\"error\":\"default\",\"action\":\"passthru\"}]}"
          description: The name/value pair attribute map associated with the error
    ErrorResponseCerts400:
      required:
      - error_id
      - http_status_code
      - sip_code
      - reason
      - timestamp
      type: object
      properties:
        error_id:
          type: string
          example: CredentialKeyStoreError
          description: The unique error identifier
        http_status_code:
          type: number
          example: 403
          description: The HTTP response status code
        sip_code: 
          type: number
          example: 437
          description: The SIP response code associated with the error
        reason:
          type: string
          example: Error in accessing keystore
          description: The detailed error text
        timestamp:
          type: string
          example: Fri, 14 May 2021 16:57:02 GMT
          description: The timestamp when the error is generated
        attributes:
          type: object
          description: The name/value pair attribute map associated with the error
          properties: 
            error_text:
              type: string
              example: ./data/ccid-authn-data-not-exist.jks (No such file or directory)
              description: The attribute name of 'error_text' in the name/value pair
            url:
              type: string
              example: file:./data/ccid-authn-data-not-exist.jks
              description: The attribute name of 'url' in the name/value pair
    ErrorAPISuccessResponse:
      type: array
      items:
        type: object
        required:
          - error_id
          - http_status_code
          - sip_code
          - reason
        properties: 
          error_id:
            type: string
            description: The unique error identifier
          http_status_code:
            type: integer
            description: The HTTP response status code
          sip_code:
            type: integer
            description: The SIP response code associated with the error
          reason:
            type: string
            description: The detailed error text
        example: 
          - error_id : Ok
            http_status_code : 200
            sip_code : 200
            reason : Ok
          - error_id: ApiKeyRequired
            http_status_code: 400
            sip_code: 400
            reason: API key is required
          - error_id: ApiKeyInvalid
            http_status_code: 400
            sip_code: 400
            reason: API key is invalid
          - error_id: CertificateIdRequired
            http_status_code: 400
            sip_code: 400
            reason: Certificate id is required
          - error_id: CertificateIdInvalid
            http_status_code: 400
            sip_code: 400
            reason: Certificate is invalid
          - error_id: DateParseException
            http_status_code: 400
            sip_code: 400
            reason: Date is expected to be in RFC 1123 format
          - error_id: MediaTypeException
            http_status_code: 400
            sip_code: 400
            reason: Content-Type is invalid or not supported
          - error_id: MediaTypeNotAcceptableException
            http_status_code: 406
            sip_code: 400
            reason: Content-Type is not acceptable
          - error_id: MediaTypeNotSupportedException
            http_status_code: 415
            sip_code: 400
            reason: Content-Type is invalid or not supported
          - error_id: MessageParseException
            http_status_code: 400
            sip_code: 400
            reason: Error in parsing the request
          - error_id: InvalidParameterException
            http_status_code: 400
            sip_code: 400
            reason: Parameter is missing or invalid
          - error_id: PptParameterValueNotSupported
            http_status_code: 400
            sip_code: 400
            reason: ppt parameter value is not supported
          - error_id: OrigidValueNotAuthorized
            http_status_code: 400
            sip_code: 400
            reason: origid value is not authorized
          - error_id: OrigNotAuthorized
            http_status_code: 400
            sip_code: 400
            reason: orig telephone number is not authorized
          - error_id: DestNotAuthorized
            http_status_code: 400
            sip_code: 400
            reason: dest telephone number is not authorized
          - error_id: OrigDestNotAuthorized
            http_status_code: 400
            sip_code: 400
            reason: orig and dest combination is not authorized
          - error_id: MethodNotSupportedException
            http_status_code: 400
            sip_code: 400
            reason: Request method is not supported
          - error_id: VerstatValueInvalid
            http_status_code: 400
            sip_code: 400
            reason: Verstat value is invalid
          - error_id: VerstatNotSupported
            http_status_code: 400
            sip_code: 400
            reason: Verstat is not supported for the PASSporT type
          - error_id: CustomerNotFound
            http_status_code: 400
            sip_code: 400
            reason: Customer not found
          - error_id: CustomerCredentialNotFound
            http_status_code: 400
            sip_code: 400
            reason: Customer credential not found
          - error_id: CustomerCertificateNotFound
            http_status_code: 400
            sip_code: 400
            reason: Customer certificate not found
          - error_id: SipInterfaceCidrInvalid
            http_status_code: 500
            sip_code: 500
            reason: SIP interface cidr is invalid
          - error_id: SipInterfaceIpAddressInvalid
            http_status_code: 400
            sip_code: 400
            reason: SIP interface IP address is invalid
          - error_id: SipInterfacePortInvalid
            http_status_code: 400
            sip_code: 400
            reason: SIP interface port is invalid
          - error_id: SipInterfaceNotAuthorized
            http_status_code: 400
            sip_code: 400
            reason: SIP interface IP address/port not authorized
          - error_id: AtisSigningRequestMissing
            http_status_code: 400
            sip_code: 400
            reason: Missing mandatory parameters in the signing request
          - error_id: AtisSigningRequestInvalid
            http_status_code: 400
            sip_code: 400
            reason: Received invalid parameters
          - error_id: ServiceNotAvailableForSipOptions
            http_status_code: 503
            sip_code: 503
            reason: Service not available when processing a SIP OPTIONS message
          - error_id: ServiceNotAvailableForSipInvite
            http_status_code: 503
            sip_code: 503
            reason: Service not available when processing a SIP INVITE message
          - error_id: InternalRetryTnOwnershipOverride
            http_status_code: 500
            sip_code: 500
            reason: Internal retry due to TN ownership override
          - error_id: UriUserPartRequired
            http_status_code: 400
            sip_code: 416
            reason: URI user-part is required
          - error_id: UriParseError
            http_status_code: 400
            sip_code: 416
            reason: URI parsing failed
          - error_id: UriSchemeInvalid
            http_status_code: 400
            sip_code: 416
            reason: URI scheme is invalid
          - error_id: UriEncodingInvalid
            http_status_code: 400
            sip_code: 416
            reason: URI encoding is invalid
          - error_id: CallInfoHeaderInvalid
            http_status_code: 400
            sip_code: 403
            reason: Call-Info header is invalid
          - error_id: ContentTypeHeaderInvalid
            http_status_code: 400
            sip_code: 403
            reason: Content-Type header is invalid
          - error_id: ContentNotFound
            http_status_code: 400
            sip_code: 403
            reason: Content not found in SIP INVITE message
          - error_id: SipInviteMessageInvalid
            http_status_code: 400
            sip_code: 403
            reason: SIP INVITE message is invalid
          - error_id: SipInviteDateInvalid
            http_status_code: 400
            sip_code: 403
            reason: SIP INVITE Date header is invalid
          - error_id: CredentialNotFound
            http_status_code: 403
            sip_code: 437
            reason: Credential not found
          - error_id: CredentialNotYetValid
            http_status_code: 403
            sip_code: 437
            reason: Credential not yet valid
          - error_id: CredentialExpired
            http_status_code: 403
            sip_code: 437
            reason: Credential has expired
          - error_id: CredentialNotSupported
            http_status_code: 403
            sip_code: 437
            reason: Credential type is not supported
          - error_id: CredentialPrivateKeyNotFound
            http_status_code: 403
            sip_code: 437
            reason: Private key not found
          - error_id: CredentialPrivateKeyNotValid
            http_status_code: 403
            sip_code: 437
            reason: Private key not valid
          - error_id: CredentialPrivateKeyNotSupported
            http_status_code: 403
            sip_code: 437
            reason: Private key not supported
          - error_id: CredentialCertificateNotFound
            http_status_code: 403
            sip_code: 437
            reason: Certificate not found
          - error_id: CredentialKeyStoreError
            http_status_code: 403
            sip_code: 437
            reason: Error in accessing keystore
          - error_id: CredentialCertificateUrlRequired
            http_status_code: 403
            sip_code: 437
            reason: Certificate URL not found
          - error_id: CertificateFetchError
            http_status_code: 400
            sip_code: 436
            reason: Error in fetching the certificate
          - error_id: CertificateConversionError
            http_status_code: 400
            sip_code: 436
            reason: Error in converting the data to a certificate
          - error_id: CertificateValidationError
            http_status_code: 400
            sip_code: 437
            reason: Certificate validation failed
          - error_id: CertificateNotFound
            http_status_code: 403
            sip_code: 438
            reason: Certificate not found
          - error_id: CertificateNotYetValid
            http_status_code: 403
            sip_code: 438
            reason: Certificate not yet valid
          - error_id: CertificateExpired
            http_status_code: 403
            sip_code: 437
            reason: Certificate has expired
          - error_id: CertificateNotSupported
            http_status_code: 403
            sip_code: 437
            reason: Certificate type is not supported
          - error_id: CertificateNotValidForOrig
            http_status_code: 403
            sip_code: 437
            reason: Certificate is not valid for the originator
          - error_id: CertificateNotValidForDiv
            http_status_code: 403
            sip_code: 437
            reason: Certificate is not valid for the diverted call
          - error_id: CertificateTnAuthnListFetchError
            http_status_code: 400
            sip_code: 436
            reason: Error in fetching the TNAuthorizationList data
          - error_id: TrustStoreFetchError
            http_status_code: 403
            sip_code: 403
            reason: Error in fetching the trust store
          - error_id: RequestObjectInvalid
            http_status_code: 403
            sip_code: 403
            reason: Invalid request object supplied
          - error_id: RequestOrigCountryCodeInvalid
            http_status_code: 403
            sip_code: 403
            reason: Originator country code(s) invalid
          - error_id: RequestDestCountryCodeInvalid
            http_status_code: 403
            sip_code: 403
            reason: Destination country code invalid
          - error_id: RequestFromHeaderRequired
            http_status_code: 403
            sip_code: 403
            reason: From header value required
          - error_id: RequestToHeaderRequired
            http_status_code: 403
            sip_code: 403
            reason: To header value required
          - error_id: RequestIdentityHeaderRequired
            http_status_code: 403
            sip_code: 428
            reason: Identity header value required
          - error_id: RequestIdentityHeaderInvalid
            http_status_code: 403
            sip_code: 403
            reason: Identity header value invalid
          - error_id: RequestStaleDate
            http_status_code: 403
            sip_code: 403
            reason: Stale date value
          - error_id: RequestInvalidDate
            http_status_code: 403
            sip_code: 403
            reason: Invalid Date value; It is too far apart from the current time
          - error_id: RequestFingerPrintAlgoInvalid
            http_status_code: 403
            sip_code: 403
            reason: Invalid SDP fingerprint algorithm
          - error_id: RequestFingerPrintDigestInvalid
            http_status_code: 403
            sip_code: 403
            reason: Invalid DSP fingerprint digest
          - error_id: RequestOrigTnRequired
            http_status_code: 403
            sip_code: 403
            reason: Originator must be a telephone number
          - error_id: RequestDestTnRequired
            http_status_code: 403
            sip_code: 403
            reason: Destination must contain a telephone number
          - error_id: RequestDivTnRequired
            http_status_code: 403
            sip_code: 403
            reason: Diversion header must contain a telephone number
          - error_id: RequestShakenAttestRequired
            http_status_code: 403
            sip_code: 403
            reason: SHAKEN attest value required
          - error_id: RequestShakenAttestInvalid
            http_status_code: 403
            sip_code: 403
            reason: SHAKEN attest value invalid
          - error_id: RequestShakenOrigidRequired
            http_status_code: 403
            sip_code: 403
            reason: SHAKEN origid value required
          - error_id: RequestDiversionHeaderRequired
            http_status_code: 403
            sip_code: 428
            reason: Diversion header value required
          - error_id: RequestDiversionHeaderInvalid
            http_status_code: 403
            sip_code: 403
            reason: Diversion header value invalid
          - error_id: RequestResourcePriorityRequired
            http_status_code: 403
            sip_code: 428
            reason: Resource Priority header value required
          - error_id: RequestResourcePriorityInvalid
            http_status_code: 403
            sip_code: 403
            reason: Resource Priority header value invalid
          - error_id: RequestRcdJcardInfoInvalid
            http_status_code: 403
            sip_code: 403
            reason: RCD JCard information invalid
          - error_id: RequestRcdJcardDataRequired
            http_status_code: 403
            sip_code: 403
            reason: RCD JCard data required
          - error_id: RequestRcdJcardDataInvalid
            http_status_code: 403
            sip_code: 403
            reason: RCD JCard data invalid
          - error_id: RequestRcdJcardDataUriInvalid
            http_status_code: 403
            sip_code: 403
            reason: RCD JCard data URI invalid
          - error_id: RequestRcdJcardPropertyUriInvalid
            http_status_code: 403
            sip_code: 403
            reason: RCD JCard property URI invalid
          - error_id: RequestRCdJcardDataFetchError
            http_status_code: 403
            sip_code: 403
            reason: RCD JCard data failed to be fetched
          - error_id: RequestRcdSignatureAlgoInvalid
            http_status_code: 403
            sip_code: 403
            reason: RCD integrity signature algorithm invalid
          - error_id: RequestRcdSignatureInvalid
            http_status_code: 403
            sip_code: 403
            reason: RCD integrity signature invalid
          - error_id: IdentitySignatureAlgoRequired
            http_status_code: 400
            sip_code: 438
            reason: Identity signature algorithm not specified
          - error_id: IdentitySignatureAlgoMismatch
            http_status_code: 400
            sip_code: 437
            reason: Identity signature algorithm not matching signing private key type
          - error_id: IdentitySignatureSigningError
            http_status_code: 400
            sip_code: 438
            reason: Identity signature signing process failed
          - error_id: IdentitySignatureEcdsaDerInvalid
            http_status_code: 400
            sip_code: 438
            reason: Identity ECDSA signature failed to be converted from DER into JWS format
          - error_id: IdentitySignatureEcdsaJwsInvalid
            http_status_code: 400
            sip_code: 438
            reason: Identity ECDSA signature failed to be converted from JWS into DER format
          - error_id: IdentitySignatureVerifyError
            http_status_code: 400
            sip_code: 438
            reason: Identity signature verification process failed
          - error_id: IdentitySignatureVerifyFailed
            http_status_code: 400
            sip_code: 438
            reason: Identity signature failed to be verified
          - error_id: IdentityCompactPptUnsupported
            http_status_code: 400
            sip_code: 438
            reason: SIP Identity header in compact form with ppt parameter is not supported
          - error_id: IdentityParameterAlgUnsupported
            http_status_code: 400
            sip_code: 436
            reason: alg parameter value specified is not supported
          - error_id: IdentityParameterPptRequired
            http_status_code: 400
            sip_code: 438
            reason: ppt parameter value is required
          - error_id: IdentityParameterPptUnsupported
            http_status_code: 400
            sip_code: 436
            reason: ppt parameter value specified is not supported
          - error_id: IdentityParameterInfoRequired
            http_status_code: 400
            sip_code: 438
            reason: info parameter value is required
          - error_id: IdentityParameterInfoInvalid
            http_status_code: 400
            sip_code: 438
            reason: info parameter value is not a valid URL
          - error_id: IdentityParameterInfoUnsupported
            http_status_code: 400
            sip_code: 438
            reason: info parameter value is not a URL of supported protocol
          - error_id: IdentityHeaderParseError
            http_status_code: 400
            sip_code: 438
            reason: Error in parsing PASSporT header
          - error_id: IdentityHeaderEncodingInvalid
            http_status_code: 400
            sip_code: 438
            reason: PASSporT header Base64 encoding is not valid
          - error_id: IdentityHeaderPayloadInvalid
            http_status_code: 400
            sip_code: 438
            reason: PASSporT header payload is not valid
          - error_id: IdentityHeaderPayloadMismatch
            http_status_code: 400
            sip_code: 438
            reason: PASSporT header payload does not match the re-constructed one
          - error_id: IdentityHeaderAlgRequired
            http_status_code: 400
            sip_code: 438
            reason: alg value is required in PASSporT header
          - error_id: IdentityHeaderAlgUnsupported
            http_status_code: 400
            sip_code: 436
            reason: alg value specified in PASSporT header is not supported
          - error_id: IdentityHeaderAlgMismatch
            http_status_code: 400
            sip_code: 438
            reason: alg value specified in PASSporT header does not match the alg parameter
          - error_id: IdentityHeaderPptRequired
            http_status_code: 400
            sip_code: 438
            reason: ppt value is required in PASSporT header
          - error_id: IdentityHeaderPptUnsupported
            http_status_code: 400
            sip_code: 438
            reason: ppt value specified in PASSporT header is not supported
          - error_id: IdentityHeaderPptMismatch
            http_status_code: 400
            sip_code: 438
            reason: ppt value specified in PASSporT header does not match the ppt parameter
          - error_id: IdentityHeaderTypRequired
            http_status_code: 400
            sip_code: 438
            reason: typ value is required in PASSporT header
          - error_id: IdentityHeaderTypUnsupported
            http_status_code: 400
            sip_code: 438
            reason: typ value specified in PASSporT header is not supported
          - error_id: IdentityHeaderX5uRequired
            http_status_code: 400
            sip_code: 438
            reason: x5u value is required in PASSporT header
          - error_id: IdentityHeaderX5uMismatch
            http_status_code: 400
            sip_code: 438
            reason: x5u value specified in PASSporT header does not match the info parameter
          - error_id: IdentityClaimParseError
            http_status_code: 400
            sip_code: 438
            reason: Error in parsing PASSporT claim
          - error_id: IdentityClaimEncodingInvalid
            http_status_code: 400
            sip_code: 438
            reason: PASSporT claim Base64 encoding is not valid
          - error_id: IdentityClaimPayloadInvalid
            http_status_code: 400
            sip_code: 438
            reason: PASSporT claim payload is not valid
          - error_id: IdentityClaimPayloadMismatch
            http_status_code: 400
            sip_code: 438
            reason: PASSporT claim payload does mot match the re-constructed one
          - error_id: IdentityClaimOrigRequired
            http_status_code: 400
            sip_code: 438
            reason: orig value is required in PASSporT claim
          - error_id: IdentityClaimOrigInvalid
            http_status_code: 400
            sip_code: 438
            reason: orig value specified in PASSporT claim is not valid
          - error_id: IdentityClaimOrigMismatch
            http_status_code: 400
            sip_code: 438
            reason: orig value specified in PASSporT claim does not match SIP From/P-Asserted-Identity header values
          - error_id: IdentityClaimDestRequired
            http_status_code: 400
            sip_code: 438
            reason: dest value is required in PASSporT claim
          - error_id: IdentityClaimDestInvalid
            http_status_code: 400
            sip_code: 438
            reason: dest value specified in PASSporT claim is not valid
          - error_id: IdentityClaimDestMismatch
            http_status_code: 400
            sip_code: 438
            reason: dest value specified in PASSporT claim does not match SIP To header value
          - error_id: IdentityClaimIatRequired
            http_status_code: 400
            sip_code: 438
            reason: iat value is required in PASSporT claim
          - error_id: IdentityClaimMkyInvalid
            http_status_code: 400
            sip_code: 438
            reason: mky value specified in PASSporT claim is not valid
          - error_id: IdentityClaimMkyMismatch
            http_status_code: 400
            sip_code: 438
            reason: mky value specified in PASSporT claim does not match SDP a:fingerprint values
          - error_id: IdentityClaimRequiredMissing
            http_status_code: 400
            sip_code: 438
            reason: Required PASSporT claim field is missing
          - error_id: IdentityClaimValueInvalid
            http_status_code: 400
            sip_code: 438
            reason: PASSporT claim value is invalid
          - error_id: IdentityClaimStaleDate
            http_status_code: 403
            sip_code: 403
            reason: Stale date value in PASSporT claim
          - error_id: IdentityClaimInvalidDate
            http_status_code: 403
            sip_code: 403
            reason: Invalid Date value in PASSporT claim; It is too far apart from the current time
          - error_id: IdentityClaimShakenAttestRequired
            http_status_code: 400
            sip_code: 438
            reason: attest value is required in PASSporT claim
          - error_id: IdentityClaimShakenAttestInvalid
            http_status_code: 400
            sip_code: 438
            reason: attest value is invalid in PASSporT claim
          - error_id: IdentityClaimShakenOrigidRequired
            http_status_code: 400
            sip_code: 438
            reason: origid value is required in PASSporT claim
          - error_id: IdentityClaimDivRequired
            http_status_code: 400
            sip_code: 438
            reason: div value is required in PASSporT claim
          - error_id: IdentityClaimDivInvalid
            http_status_code: 400
            sip_code: 438
            reason: div value is invalid in PASSporT claim
          - error_id: IdentityClaimDivOptInvalid
            http_status_code: 400
            sip_code: 438
            reason: opt value is invalid in PASSporT claim
          - error_id: IdentityClaimOrigTnRequired
            http_status_code: 400
            sip_code: 438
            reason: orig value is required to be a telephone number in PASSporT claim
          - error_id: IdentityClaimDestTnRequired
            http_status_code: 400
            sip_code: 438
            reason: dest value is required to contain a telephone number in PASSporT claim
          - error_id: IdentityClaimDivTnRequired
            http_status_code: 400
            sip_code: 438
            reason: div value is required to be a telephone number in PASSporT claim
          - error_id: IdentityClaimRphRequired
            http_status_code: 400
            sip_code: 438
            reason: rph value is required in PASSporT claim
          - error_id: IdentityClaimRphAuthRequired
            http_status_code: 400
            sip_code: 438
            reason: auth value is required in PASSporT claim
          - error_id: IdentityClaimRphAuthInvalid
            http_status_code: 400
            sip_code: 438
            reason: auth value is invalid in PASSporT claim
          - error_id: IdentityClaimRphAuthNotFound
            http_status_code: 400
            sip_code: 438
            reason: auth value is not found in SIP Resource-Priority headers
          - error_id: IdentityClaimRcdRequired
            http_status_code: 400
            sip_code: 438
            reason: rcd value is required in RCD PASSport claim
          - error_id: IdentityClaimRcdCrnMismatch
            http_status_code: 400
            sip_code: 438
            reason: crn value does not match the re-constructed one
          - error_id: IdentityClaimRcdNamRequired
            http_status_code: 400
            sip_code: 438
            reason: nam value is required in RCD PASSport claim
          - error_id: IdentityClaimRcdNamMismatch
            http_status_code: 400
            sip_code: 438
            reason: nam value does not match the re-constructed one
          - error_id: IdentityClaimRcdJcardInfoInvalid
            http_status_code: 400
            sip_code: 438
            reason: jcd and jcl values is mutually exclusive in RCD PASSporT claim
          - error_id: IdentityClaimRcdJclInvalid
            http_status_code: 400
            sip_code: 438
            reason: jcl value is invalid in RCD PASSporT claim
          - error_id: IdentityClaimRcdJclMismatch
            http_status_code: 400
            sip_code: 438
            reason: jcl value does not match the re-constructed one
          - error_id: IdentityClaimRcdSignAlgoInvalid
            http_status_code: 400
            sip_code: 438
            reason: rcdi algorithm is invalid in RCD PASSporT claim
          - error_id: IdentityClaimRcdSignatureInvalid
            http_status_code: 400
            sip_code: 438
            reason: rcdi value is invalid in RCD PASSporT claim
          - error_id: IdentityClaimRcdSignatureMismatch
            http_status_code: 400
            sip_code: 438
            reason: rcdi value does not match the re-constructed one
          - error_id: IdentitySignatureEncodingInvalid
            http_status_code: 400
            sip_code: 438
            reason: Identity signature Base64 encoding is not valid
          - error_id: IdentitySignaturePayloadInvalid
            http_status_code: 400
            sip_code: 438
            reason: Identity signature payload is not valid
          - error_id: IdentitySignaturePayloadMismatch
            http_status_code: 400
            sip_code: 438
            reason: Identity signature payload does not match the re-constructed one
          - error_id: IdentityClaimDivEndNotFound
            http_status_code: 400
            sip_code: 438
            reason: Identity diversion claim chain does not end with SIP To Header
          - error_id: IdentityClaimDivInfiniteLoop
            http_status_code: 400
            sip_code: 438
            reason: Identity diversion claim chain contains infinite loops
          - error_id: IdentityClaimDivStartInvalid
            http_status_code: 400
            sip_code: 438
            reason: Identity diversion claim chain does start with a regular claim
          - error_id: IdentityClaimDivNotUnique
            http_status_code: 400
            sip_code: 438
            reason: Identity diversion claim chain is not unique
          - error_id: InternalServerError
            http_status_code: 500
            sip_code: 500
            reason: Internal server error
    VerifyIdentity:
      required:
      - from
      - to
      - identity
      type: object
      properties:
        from:
          type: string
          example: Alice <sip:alice@example.com>
          description: \"From\" header value from SIP INVITE message
        to:
          type: string
          example: Bob <sip:5715550000@example.com>
          description: \"To\" header value from SIP INVITE message
        identity:
          type: array
          example: Bob <sip:5715550000@example.com>
          description: A list of SIP Identity values to be verified
        diversion: 
          type: array
          description: A list of 'Diversion' header values from SIP INVITE message. If specified, must be one as specified in RFC5806 Section 4
        resource_priority: 
          type: array
          description: A list of 'Resource-Priority' header values from SIP INVITE message. If specified, must be one as specified in RFC4412 Section 3.1
        verstat:
          type: boolean
          description: Flag for returning verstat value after SIP Identity values are verified. If specified, must be true or false
          example: X-REQUEST-ID-12345
        identity_info: 
          type: boolean
          description: Flag for returning information related to SIP Identity values verified. If specified, must be true or false
        request_id:
          type: string
          description: Client supplied request identifier for tracking purpose. If not null, it will be returned back in the response object
          example: X-REQUEST-ID-12345
        status: 
          type: string
          example: Bob <sip:7035550000@example.com>;reason=away
          description: Verification status requirement. If specified, must be 'none', 'partial' or 'all'
        date: 
          type: string
          description: Date header value from SIP INVITE message. If specified, must be in RFC1123 format
          example: Fri, 16 Apr 2021 02:56:51 GMT
        pai:
          type: array
          description: A list of 'P-Asserted-Identity' header values from SIP INVITE message. If specified, must be one as specified in RFC 3325 Section 9.1
        finger_print:
          type: array
          description: A list of SDP 'a=fingerprint' attribute values from SIP INVITE message. If specified, must be one as specified in RFC 3325 Section 9.1
          items:
            type: object
            properties: 
              algorithm: 
                type: string
                description: Algorithm name of a SDP 'a=fingerprint' attribute from SIP INVITE message. Cannot be null or empty
                example: SHA-1
              digest: 
                type: string
                description: Digest value of a SDP 'a=fingerprint' attribute from SIP INVITE message. Cannot be null or empty
                example: 36:3B:AE:12:95:95:F5:97:2D:F7:E0:84:FE:CD:F1:BC:AD:7A:70:64:F7:E7:4F:7E:A6:02:06:0E:37:54:CF:F7
        orig_cc: 
          type: array
          description: Default country codes for the originator telephone number. If specified, must be a valid country code
          example: [ "1", "44" ]
        dest_cc: 
          type: string
          description: Default country code for the destination telephone number. If specified, must be a valid country code
          example: "1"
        cnam:
          type: boolean
          description: Flag for performing CNAM lookup. If specified, must be true or false
        ecnam:
          type: boolean
          description: Flag for performing ECNAM lookup. If specified, must be true or false
        robocall:
          type: boolean
          description: Flag for returning Robocall Call Insight data. If specified, must be true or false
    VerifyErrorResponse400:
      type: object
      properties:
        status:
          type: string
          example: error
          description: Verification status
        error: 
          type: array
          description: "Array of errors"
          items: 
            type: object
            properties: 
              error_id: 
                type: string
                description: The unique error identifier
                example: IdentitySignatureVerifyFailed
              http_status_code: 
                type: integer
                description: The HTTP response status code
                example: 400
              sip_code: 
                type: integer
                description: The SIP response code associated with the error
                example: 438
              reason: 
                type: string
                description: The detailed error text
                example: Identity signature failed to be verified
              timestamp: 
                type: string
                description: The timestamp when the error is generated
                example: Identity signature failed to be verified
              attributes: 
                type: object
                properties: 
                  payload: 
                    type: string
                    description: The attribute name of 'payload' in the name/value pair
                    example: eyJhbGciOiJFUzI1NiIsInR5cCI6InBhc3Nwb3J0IiwieDV1IjoiaHR0cDovL2NhLmV4YW1wbGUuY29tL3Rlc3QuZGVyIn0.eyJkZXN0Ijp7InRuIjpbIjE1NzE1NTUwMDAxIl19LCJpYXQiOjE2MTg1NDE4MTksIm9yaWciOnsidG4iOiIxNTcxNTU1MDAwMCJ9fQ
                  signature: 
                    type: string
                    description: The attribute name of 'signature' in the name/value pair
                    example: mH96Br
        cnam_error: 
          type: object
          description: "CNAM Error"
          properties: 
            error_id:
              type: string
              description: The unique error identifier
              example: CnamDataNotFound
            http_status_code: 
              type: integer
              description: The HTTP response status code
              example: 400
            sip_code: 
              type: integer
              description: The SIP response code associated with the error
              example: 400
            reason: 
              type: string
              description: The detailed error text
              example: CNAM data not found
            timestamp: 
              type: string
              description: The timestamp when the error is generated
              example: Fri, 16 Apr 2021 02:56:56 GMT
        ecnam_error: 
          type: object
          description: "ECNAM Error"
          properties: 
            error_id:
              type: string
              description: The unique error identifier
              example: EcnamNotAuthorized
            http_status_code: 
              type: integer
              description: The HTTP response status code
              example: 400
            sip_code: 
              type: integer
              description: The SIP response code associated with the error
              example: 400
            reason: 
              type: string
              description: The detailed error text
              example: ECNAM service not authorized
            timestamp: 
              type: string
              description: The timestamp when the error is generated
              example: Fri, 16 Apr 2021 02:56:56 GMT
    VerifyResponse:
      type: object
      properties: 
        status: 
          type: "string"
          example: "ok"
          description: | 
            Its value is "ok" after the SIP Identity headers are validated with the required verification status. There are three possible "status" values specified in the request
              * **none** - This status value indicates that the SIP Identity headers specified in the request are not required to be verified

              * **partial** - This status value indicates that one or more SIP Identity headers specified in the request are required to be verified

              * **all** - This status value indicates that all SIP Identity headers specified in the request are required to be verified

            Based on the verification status requirement specified in the request, the VS will return a "status" attribute in the response with the following two possible values: 

              * **ok** - This status value indicates that the verification result of SIP Identity headers has met the verification status requirement specified in the request
              * **error** - This status value indicates that the verification result of SIP Identity headers has not met the verification status requirement specified in the request
            
            If there are any errors encountered in the verification process, an "error" attribute in the response will list all of those errors.

            If the "robocall" attribute is specified as "true" in the request, a "call_insight" attribute will be returned, if any.
        request_id: 
          type: "string"
          example: "X-REQUEST-ID-12345"
          description: "Client supplied request identifier for tracking purpose"
        verstat: 
          type: "string"
          example: "TN-Validation-Passed"
          description: "'verstat' value defined by ETSI TS 124 299"
        identity_info: 
          description: "A list of information related to SIP Identity headers verified"
          type: "array"
          items: 
            type: "object"
            properties: 
              status: 
                type: "string"
                example: "Ok"
                description: "The verification status of a SIP Identity header"
              params: 
                type: "string"
                example: "info=<http://ca.example.com/test.der>;alg=ES256;ppt=\"shaken\""
                description: "The parameters in a SIP Identity header"
              header:
                properties: 
                  alg: 
                    type: "string"
                    example: "ES256"
                  ppt: 
                    type: "string"
                    example: "shaken"
                  typ: 
                    type: "string"
                    example: "passport"
                  x5u: 
                    type: "string"
                    example: "http://ca.example.com/test.der"
                type: "object"
                description: "The decoded PASSporT header object in a SIP Identity header"
              claim: 
                description: "The decoded PASSporT claim object in a SIP Identity header"
                properties: 
                  attest: 
                    type: "string"
                    example: "A"
                  dest: 
                    required: 
                      - "tn"
                    properties: 
                      tn: 
                        type: "array"
                        items: 
                          type: "string"
                        example: 
                          - "15715550001"
                    type: "object"
                  iat: 
                    type: "number"
                    example: 1618541811
                  mky: 
                    type: "array"
                    items: 
                      type: "object"
                      properties: 
                        alg: 
                          type: "string"
                          example: "SHA-1"
                        dig: 
                          type: "string"
                          example: "4AADB9B13F82183B540212DF3E5D496B19E57CAB"
                  orig: 
                    properties: 
                      tn: 
                        type: "string"
                        example: "17035550001"
                    type: "object"
                  origid: 
                    type: "string"
                    example: "123456-ABCD-999999"
                type: "object"
              certificate_info: 
                description: "The basic information of the certificate used in a SIP Identity header"
                properties: 
                  subject: 
                    type: "string"
                    example: "C=US, ST=VA, L=Somewhere, O=\"AcmeTelecom, Inc.\", OU=VOIP, CN=TEST-EC-256-EXT-TN-JWT"
                    description: "The subject of the certificate used in a SIP Identity header"
                  issuer: 
                    type: "string"
                    example: "C=US, O=Organization IOT Lab, CN=CallAuthnCA"
                    description: "The issuer of the certificate used in a SIP Identity header"
                  tn_auth_list: 
                    type: "array"
                    description: "The TN Authorization List of the certificate used in a SIP Identity header"
                    items: 
                      type: "object"
                      properties: 
                        spc: 
                          type: "string"
                          example: "X001"
                          description: "A Service Provider Code in TN Authorization List"
                type: "object"
        cnam: 
          type: "string"
          example: "Alice In Wonderland"
          description: "CNAM data"
        ecnam: 
          description: "ECNAM data"
          properties: 
            display_template: 
              type: "string"
              example: "none"
              description: "ECNAM data display template"
            business_name: 
              type: "string"
              example: "Disney World"
              description: "Full business name"
            department: 
              type: "string"
              example: "Theme Park"
              description: "Department name"
            line_type: 
              type: "string"
              example: "Wireline"
              description: "Line type, such as wireline, wireless, etc."
            subscriber_type: 
              type: "string"
              example: "Business"
              description: "Subscriber type, such as business, residential, etc."
            business_type: 
              type: "string"
              example: "Entertainment"
              description: "Business type"
            business_address: 
              type: "string"
              example: "Walt Disney World Resort"
              description: "Business address"
            locality: 
              type: "string"
              example: "Orlando, FL"
              description: Locality, such as 'Sterling, VA'
            city: 
              type: "string"
              example: "Orlando"
              description: "City, such as 'Sterling'"
            state: 
              type: "string"
              example: "FL"
              description: "State, such as 'VA'"
            country: 
              type: "string"
              example: "US"
              description: "Country code, such as US"
            postal_code: 
              type: "string"
              example: "32830"
              description: "Postal code, such as 20166-1234"
            website_url: 
              type: "string"
              example: "http://movies.disney.com/alice-in-wonderland-1951"
              description: "Website URL"
            logo_url: 
              type: "string"
              example: "https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png"
              description: "Logo URL"
            tagline: 
              type: "string"
              example: "#AliceInWonderLand"
              description: "Tagline"
            employee_name: 
              type: "string"
              example: "Alice"
              description: "Employee’s name, such as John Smith"
            first_name: 
              type: "string"
              example: "Alice"
              description: "Employee’s first name, such as John"
            last_name: 
              type: "string"
              example: "Liddell"
              description: "Employee’s last name, such as Smith"
            job_title: 
              type: "string"
              example: "Adventurer"
              description: "Job title"
            headshot_url: 
              type: "string"
              example: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I"
              description: "Headshot/avatar image URL"
            email: 
              type: "string"
              example: "alice@disney.com"
              description: "Email address"
            cnam: 
              type: "string"
              example: "Alice In Wonderland"
              description: "CNAM data"
            call_purpose: 
              type: "string"
              example: "Customer Support"
              description: "The purpose for calls originated from the telephone number"
            social_media_info: 
              description: "Social media info, as an object map of name/value pairs"
              properties: 
                Facebook: 
                  type: "string"
                  example: "https://www.facebook.com/DisneyAliceInWonderland"
                  description: "Facebook URL"
                Twitter: 
                  type: "string"
                  example: "https://twitter.com/Disney"
                  description: "Twitter URL"
              type: "object"
            p_asserted_identity: 
              type: "string"
              example: "\"Alice In Wonderland\" <sip:alice@example.com;tmpl=none;bn=Disney%20World;dept=Theme%20Park;lt=Wireline;st=Business;bt=Entertainment;ba=Walt%20Disney%20World%20Resort;cs=Orlando, FL;city=Orlando;state=FL;ct=US;zip=32830;wb=http://movies.disney.com/alice-in-wonderland-1951;lg=https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png;tg=#AliceInWonderLand;sm=%7B%22Facebook%22%3A%22https%3A%2F%2Fwww.facebook.com%2FDisneyAliceInWonderland%22%2C%22Twitter%22%3A%22https%3A%2F%2Ftwitter.com%2FDisney%22%7D;nm=Alice;fn=Alice;ln=Liddell;jt=Adventurer;hs=https://encrypted-tbn0.gstatic.com/images?q%3dtbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I;cp=Customer Support;email=alice@disney.com>"
              description: "Value as 'allow as SIP P-Asserted-Identity header"
          type: "object"
        call_insight: 
          description: "Call insight details"
          properties: 
            call_treatment: 
              type: "string"
              example: "allow"
              description: "Call treatment method, such as 'allow', 'deny', 'send_to_vm' or 'none'"
            fraud_score: 
              type: "number"
              example: 0
              description: "Numeric fraud score between 0 and 100"
            original_calling_name: 
              type: "string"
              example: "Alice"
              description: "Original calling name value"
          type: "object"
    VerifyResponse-SJ:
      type: object
      properties: 
        status: 
          type: "string"
          example: "ok"
          description: | 
            Its value is "ok" after the SIP Identity headers are validated with the required verification status. There are three possible "status" values specified in the request
              * **none** - This status value indicates that the SIP Identity headers specified in the request are not required to be verified

              * **partial** - This status value indicates that one or more SIP Identity headers specified in the request are required to be verified

              * **all** - This status value indicates that all SIP Identity headers specified in the request are required to be verified

            Based on the verification status requirement specified in the request, the VS will return a "status" attribute in the response with the following two possible values: 

              * **ok** - This status value indicates that the verification result of SIP Identity headers has met the verification status requirement specified in the request
              * **error** - This status value indicates that the verification result of SIP Identity headers has not met the verification status requirement specified in the request
            
            If there are any errors encountered in the verification process, an "error" attribute in the response will list all of those errors.

            If the "robocall" attribute is specified as "true" in the request, a "call_insight" attribute will be returned, if any.
        cnam: 
          type: "string"
          example: "Alice In Wonderland"
          description: "CNAM data"
        ecnam: 
          description: "ECNAM data"
          properties: 
            display_template: 
              type: "string"
              example: "none"
              description: "ECNAM data display template"
            business_name: 
              type: "string"
              example: "Disney World"
              description: "Full business name"
            department: 
              type: "string"
              example: "Theme Park"
              description: "Department name"
            line_type: 
              type: "string"
              example: "Wireline"
              description: "Line type, such as wireline, wireless, etc."
            subscriber_type: 
              type: "string"
              example: "Business"
              description: "Subscriber type, such as business, residential, etc."
            business_type: 
              type: "string"
              example: "Entertainment"
              description: "Business type"
            business_address: 
              type: "string"
              example: "Walt Disney World Resort"
              description: "Business address"
            locality: 
              type: "string"
              example: "Orlando, FL"
              description: Locality, such as 'Sterling, VA'
            city: 
              type: "string"
              example: "Orlando"
              description: "City, such as 'Sterling'"
            state: 
              type: "string"
              example: "FL"
              description: "State, such as 'VA'"
            country: 
              type: "string"
              example: "US"
              description: "Country code, such as US"
            postal_code: 
              type: "string"
              example: "32830"
              description: "Postal code, such as 20166-1234"
            website_url: 
              type: "string"
              example: "http://movies.disney.com/alice-in-wonderland-1951"
              description: "Website URL"
            logo_url: 
              type: "string"
              example: "https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png"
              description: "Logo URL"
            tagline: 
              type: "string"
              example: "#AliceInWonderLand"
              description: "Tagline"
            employee_name: 
              type: "string"
              example: "Alice"
              description: "Employee’s name, such as John Smith"
            first_name: 
              type: "string"
              example: "Alice"
              description: "Employee’s first name, such as John"
            last_name: 
              type: "string"
              example: "Liddell"
              description: "Employee’s last name, such as Smith"
            job_title: 
              type: "string"
              example: "Adventurer"
              description: "Job title"
            headshot_url: 
              type: "string"
              example: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I"
              description: "Headshot/avatar image URL"
            email: 
              type: "string"
              example: "alice@disney.com"
              description: "Email address"
            cnam: 
              type: "string"
              example: "Alice In Wonderland"
              description: "CNAM data"
            call_purpose: 
              type: "string"
              example: "Customer Support"
              description: "The purpose for calls originated from the telephone number"
            social_media_info: 
              description: "Social media info, as an object map of name/value pairs"
              properties: 
                Facebook: 
                  type: "string"
                  example: "https://www.facebook.com/DisneyAliceInWonderland"
                  description: "Facebook URL"
                Twitter: 
                  type: "string"
                  example: "https://twitter.com/Disney"
                  description: "Twitter URL"
              type: "object"
            p_asserted_identity: 
              type: "string"
              example: "\"Alice In Wonderland\" <sip:alice@example.com;tmpl=none;bn=Disney%20World;dept=Theme%20Park;lt=Wireline;st=Business;bt=Entertainment;ba=Walt%20Disney%20World%20Resort;cs=Orlando, FL;city=Orlando;state=FL;ct=US;zip=32830;wb=http://movies.disney.com/alice-in-wonderland-1951;lg=https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png;tg=#AliceInWonderLand;sm=%7B%22Facebook%22%3A%22https%3A%2F%2Fwww.facebook.com%2FDisneyAliceInWonderland%22%2C%22Twitter%22%3A%22https%3A%2F%2Ftwitter.com%2FDisney%22%7D;nm=Alice;fn=Alice;ln=Liddell;jt=Adventurer;hs=https://encrypted-tbn0.gstatic.com/images?q%3dtbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I;cp=Customer Support;email=alice@disney.com>"
              description: "Value as 'allow as SIP P-Asserted-Identity header"
          type: "object"
        call_insight: 
          description: "Call insight details"
          properties: 
            call_treatment: 
              type: "string"
              example: "allow"
              description: "Call treatment method, such as 'allow', 'deny', 'send_to_vm' or 'none'"
            fraud_score: 
              type: "number"
              example: 0
              description: "Numeric fraud score between 0 and 100"
            original_calling_name: 
              type: "string"
              example: "Alice"
              description: "Original calling name value"
          type: "object"
    CNAM-Error:
      type: object
      description: "The error encountered in CNAM lookup"
      properties: 
        cnam_error: 
          description: "The error encountered in CNAM lookup"
          properties: 
            error_id: 
              type: "string"
              example: "CnamNotAuthorized"
              description: "The unique error identifier"
            http_status_code: 
              type: "number"
              example: 400
              description: "The HTTP response status code"
            sip_code: 
              type: "number"
              example: 400
              description: "The SIP response code associated with the error"
            reason: 
              type: "string"
              example: "CNAM service not authorized"
              description: "The detailed error text"
            timestamp: 
              type: "string"
              example: "Fri, 16 Apr 2021 02:56:55 GMT"
              description: "The timestamp when the error is generated"
          type: "object"
    ECNAM-Error:
      type: object
      description: "The error encountered in ECNAM lookup"
      properties: 
        ecnam_error: 
          description: "The error encountered in ECNAM lookup"
          properties: 
            error_id: 
              type: "string"
              example: "CnamNotAuthorized"
              description: "The unique error identifier"
            http_status_code: 
              type: "number"
              example: 400
              description: "The HTTP response status code"
            sip_code: 
              type: "number"
              example: 400
              description: "The SIP response code associated with the error"
            reason: 
              type: "string"
              example: "CNAM service not authorized"
              description: "The detailed error text"
            timestamp: 
              type: "string"
              example: "Fri, 16 Apr 2021 02:56:55 GMT"
              description: "The timestamp when the error is generated"
          type: "object"
    CNAM-Input:
      type: object
      properties: 
        from: 
          type: "string"
          example: "Alice <sip:+15715550000@example.com>"
          description: "'From' header value from SIP INVITE message"
    ECNAM-Response: 
      type: object
      properties: 
        ecnam:
          description: "ECNAM data"
          properties: 
            display_template: 
              type: "string"
              example: "none"
              description: ECNAM data display template
            business_name: 
              type: "string"
              example: "Disney World"
              description: Full business name
            department: 
              type: "string"
              example: "Theme Park"
              description: Department name
            line_type: 
              type: "string"
              example: "Wireline"
              description: Line type, such as wireline, wireless, etc.
            subscriber_type: 
              type: "string"
              example: "Business"
              description: Subscriber type, such as business, residential, etc.
            business_type: 
              type: "string"
              example: "Entertainment"
              description: Business type
            business_address: 
              type: "string"
              example: "Walt Disney World Resort"
              description: Business address
            locality: 
              type: "string"
              example: "Orlando, FL"
              description: Locality, such as 'Sterling, VA'
            city: 
              type: "string"
              example: "Orlando"
              description: City, such as 'Sterling'
            state: 
              type: "string"
              example: "FL"
              description: State or province, such as 'VA'
            country: 
              type: "string"
              example: "US"
              description: Country code, such as US
            postal_code: 
              type: "string"
              example: "32830"
              description: Postal code, such as 20166-1234
            website_url: 
              type: "string"
              example: "http://movies.disney.com/alice-in-wonderland-1951"
              description: Website URL
            logo_url: 
              type: "string"
              example: "https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png"
              description: 	Logo URL
            tagline: 
              type: "string"
              example: "#AliceInWonderLand"
              description: Tagline
            employee_name: 
              type: "string"
              example: "Alice"
              description: Employee’s name, such as John Smith
            first_name: 
              type: "string"
              example: "Alice"
              description: Employee’s first name, such as John
            last_name: 
              type: "string"
              example: "Liddell"
              description: Employee’s last name, such as Smith
            job_title: 
              type: "string"
              example: "Adventurer"
              description: Job title
            headshot_url: 
              type: "string"
              example: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I"
              description: Headshot/avatar image URL
            email: 
              type: "string"
              example: "alice@disney.com"
              description: Email address
            cnam: 
              type: "string"
              example: "Alice In Wonderland"
              description: CNAM data
            call_purpose: 
              type: "string"
              example: "Customer Support"
              description: The purpose for calls originated from the telephone number
            social_media_info: 
              properties: 
                Facebook: 
                  type: "string"
                  example: "https://www.facebook.com/DisneyAliceInWonderland"
                  description: Facebook URL
                Twitter: 
                  type: "string"
                  example: "https://twitter.com/Disney"
                  description: Twitter URL
              type: "object"
              description: Social media info, as an object map of name/value pairs
            p_asserted_identity: 
              type: "string"
              example: "\"Alice In Wonderland\" <sip:alice@example.com;tmpl=none;bn=Disney%20World;dept=Theme%20Park;lt=Wireline;st=Business;bt=Entertainment;ba=Walt%20Disney%20World%20Resort;cs=Orlando, FL;city=Orlando;state=FL;ct=US;zip=32830;wb=http://movies.disney.com/alice-in-wonderland-1951;lg=https://static-mh.content.disney.io/matterhorn/assets/goc/nav-logo-dark@2x-2b3eb08c507c.png;tg=#AliceInWonderLand;sm=%7B%22Facebook%22%3A%22https%3A%2F%2Fwww.facebook.com%2FDisneyAliceInWonderland%22%2C%22Twitter%22%3A%22https%3A%2F%2Ftwitter.com%2FDisney%22%7D;nm=Alice;fn=Alice;ln=Liddell;jt=Adventurer;hs=https://encrypted-tbn0.gstatic.com/images?q%3dtbn:ANd9GcR2Q1GWX6hdmMr2dh10SoTeEKEn4S4toc4V3yAJCrPQHlzWvr_I;cp=Customer Support;email=alice@disney.com>"
              description: Value as 'allow as SIP P-Asserted-Identity header
          type: "object"
        call_insight: 
          description: Call insight info
          properties: 
            call_treatment: 
              type: "string"
              example: "allow"
              description: Call treatment method, such as 'allow', 'deny', 'send_to_vm' or 'none'
            fraud_score: 
              type: "number"
              example: 0
              description: Numeric fraud score between 0 and 100
            original_calling_name: 
              type: "string"
              example: "Alice"
              description: Original calling name value
          type: "object"
